<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>系统基本设置 | Linux 系统教程（笔记）</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/linux-tutorial/favicon.ico">
    <link rel="manifest" href="/linux-tutorial/manifest.json">
    <meta name="description" content="linux 系统教程学习笔记">
    <link rel="preload" href="/linux-tutorial/assets/css/0.styles.7e75da3d.css" as="style"><link rel="preload" href="/linux-tutorial/assets/js/app.1929cdab.js" as="script"><link rel="preload" href="/linux-tutorial/assets/js/2.b00e63ff.js" as="script"><link rel="preload" href="/linux-tutorial/assets/js/7.bc7f10b3.js" as="script"><link rel="preload" href="/linux-tutorial/assets/js/16.b0a90d5f.js" as="script"><link rel="prefetch" href="/linux-tutorial/assets/js/10.c146ab8d.js"><link rel="prefetch" href="/linux-tutorial/assets/js/100.b3722352.js"><link rel="prefetch" href="/linux-tutorial/assets/js/101.8c1ef482.js"><link rel="prefetch" href="/linux-tutorial/assets/js/102.d8ce48bb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/103.a3e528c8.js"><link rel="prefetch" href="/linux-tutorial/assets/js/104.529d4089.js"><link rel="prefetch" href="/linux-tutorial/assets/js/105.cc2c5c94.js"><link rel="prefetch" href="/linux-tutorial/assets/js/106.43b76338.js"><link rel="prefetch" href="/linux-tutorial/assets/js/107.4fa738c8.js"><link rel="prefetch" href="/linux-tutorial/assets/js/108.3f778349.js"><link rel="prefetch" href="/linux-tutorial/assets/js/109.d522ea0d.js"><link rel="prefetch" href="/linux-tutorial/assets/js/11.9a8a8487.js"><link rel="prefetch" href="/linux-tutorial/assets/js/110.2e3f1a87.js"><link rel="prefetch" href="/linux-tutorial/assets/js/111.fd8a0020.js"><link rel="prefetch" href="/linux-tutorial/assets/js/112.18c254c3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/113.d6d1b6df.js"><link rel="prefetch" href="/linux-tutorial/assets/js/114.f1c3f637.js"><link rel="prefetch" href="/linux-tutorial/assets/js/115.26cb32f2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/116.c7a39b2c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/117.3a5a37f1.js"><link rel="prefetch" href="/linux-tutorial/assets/js/118.16961e8a.js"><link rel="prefetch" href="/linux-tutorial/assets/js/119.9512ae4e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/12.d5e57772.js"><link rel="prefetch" href="/linux-tutorial/assets/js/120.23d99fc1.js"><link rel="prefetch" href="/linux-tutorial/assets/js/121.e3a9422b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/122.fdbe08a8.js"><link rel="prefetch" href="/linux-tutorial/assets/js/123.5b64c6d2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/124.35e2afbb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/125.a7af76d9.js"><link rel="prefetch" href="/linux-tutorial/assets/js/126.fa5d842c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/127.28dc9c84.js"><link rel="prefetch" href="/linux-tutorial/assets/js/128.e846e58c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/129.8f1aba55.js"><link rel="prefetch" href="/linux-tutorial/assets/js/13.99747530.js"><link rel="prefetch" href="/linux-tutorial/assets/js/130.aac0ca29.js"><link rel="prefetch" href="/linux-tutorial/assets/js/131.f28957e5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/132.3da07a41.js"><link rel="prefetch" href="/linux-tutorial/assets/js/133.d357ba09.js"><link rel="prefetch" href="/linux-tutorial/assets/js/134.53cd13df.js"><link rel="prefetch" href="/linux-tutorial/assets/js/135.12e6d758.js"><link rel="prefetch" href="/linux-tutorial/assets/js/136.356761c1.js"><link rel="prefetch" href="/linux-tutorial/assets/js/137.f34056fe.js"><link rel="prefetch" href="/linux-tutorial/assets/js/138.b04111a5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/139.affe3448.js"><link rel="prefetch" href="/linux-tutorial/assets/js/14.4342bdf7.js"><link rel="prefetch" href="/linux-tutorial/assets/js/140.e4fb8940.js"><link rel="prefetch" href="/linux-tutorial/assets/js/141.55cdcbf3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/142.44ca6128.js"><link rel="prefetch" href="/linux-tutorial/assets/js/143.a2e39ac5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/144.3b7a88c8.js"><link rel="prefetch" href="/linux-tutorial/assets/js/145.cdd233af.js"><link rel="prefetch" href="/linux-tutorial/assets/js/146.5ab0bbc6.js"><link rel="prefetch" href="/linux-tutorial/assets/js/147.2b6726ad.js"><link rel="prefetch" href="/linux-tutorial/assets/js/148.204091bb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/149.5db30c0b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/15.4786a866.js"><link rel="prefetch" href="/linux-tutorial/assets/js/150.1c716989.js"><link rel="prefetch" href="/linux-tutorial/assets/js/151.08593dfb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/152.3713ca41.js"><link rel="prefetch" href="/linux-tutorial/assets/js/153.cdb47ba6.js"><link rel="prefetch" href="/linux-tutorial/assets/js/154.4ea59cb4.js"><link rel="prefetch" href="/linux-tutorial/assets/js/155.2f3df8e6.js"><link rel="prefetch" href="/linux-tutorial/assets/js/156.01c9ce36.js"><link rel="prefetch" href="/linux-tutorial/assets/js/157.4e7adfcb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/158.a131d3a6.js"><link rel="prefetch" href="/linux-tutorial/assets/js/159.27c9c39c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/160.48f633b5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/161.b81b21c0.js"><link rel="prefetch" href="/linux-tutorial/assets/js/162.9028cf1b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/163.190a1210.js"><link rel="prefetch" href="/linux-tutorial/assets/js/164.17ade648.js"><link rel="prefetch" href="/linux-tutorial/assets/js/165.5cb30f72.js"><link rel="prefetch" href="/linux-tutorial/assets/js/166.5de58009.js"><link rel="prefetch" href="/linux-tutorial/assets/js/167.47433722.js"><link rel="prefetch" href="/linux-tutorial/assets/js/168.6a886750.js"><link rel="prefetch" href="/linux-tutorial/assets/js/169.84433be6.js"><link rel="prefetch" href="/linux-tutorial/assets/js/17.04ccb392.js"><link rel="prefetch" href="/linux-tutorial/assets/js/170.053e4024.js"><link rel="prefetch" href="/linux-tutorial/assets/js/171.5ce07e8c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/172.db3dfffb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/173.49d8d4e1.js"><link rel="prefetch" href="/linux-tutorial/assets/js/174.5f334e83.js"><link rel="prefetch" href="/linux-tutorial/assets/js/175.54225733.js"><link rel="prefetch" href="/linux-tutorial/assets/js/176.81c56a95.js"><link rel="prefetch" href="/linux-tutorial/assets/js/177.dcf9ae18.js"><link rel="prefetch" href="/linux-tutorial/assets/js/178.ae42ddc1.js"><link rel="prefetch" href="/linux-tutorial/assets/js/18.4e56fcb3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/19.171418f5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/20.4c69b8ff.js"><link rel="prefetch" href="/linux-tutorial/assets/js/21.3aec2873.js"><link rel="prefetch" href="/linux-tutorial/assets/js/22.861e719b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/23.b00485cd.js"><link rel="prefetch" href="/linux-tutorial/assets/js/24.0eee8666.js"><link rel="prefetch" href="/linux-tutorial/assets/js/25.e2ed06a0.js"><link rel="prefetch" href="/linux-tutorial/assets/js/26.57318773.js"><link rel="prefetch" href="/linux-tutorial/assets/js/27.2361090d.js"><link rel="prefetch" href="/linux-tutorial/assets/js/28.5d42931b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/29.6ff7781b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/3.63859d7c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/30.4495d9ce.js"><link rel="prefetch" href="/linux-tutorial/assets/js/31.95d35ed3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/32.ca390432.js"><link rel="prefetch" href="/linux-tutorial/assets/js/33.13ca63e2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/34.93972f88.js"><link rel="prefetch" href="/linux-tutorial/assets/js/35.e2b2ced7.js"><link rel="prefetch" href="/linux-tutorial/assets/js/36.8568609f.js"><link rel="prefetch" href="/linux-tutorial/assets/js/37.d30c94d3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/38.02682c6d.js"><link rel="prefetch" href="/linux-tutorial/assets/js/39.f2019b19.js"><link rel="prefetch" href="/linux-tutorial/assets/js/4.56b0a995.js"><link rel="prefetch" href="/linux-tutorial/assets/js/40.9a7665fc.js"><link rel="prefetch" href="/linux-tutorial/assets/js/41.58fb9c6a.js"><link rel="prefetch" href="/linux-tutorial/assets/js/42.d7af0202.js"><link rel="prefetch" href="/linux-tutorial/assets/js/43.5c9cbc2a.js"><link rel="prefetch" href="/linux-tutorial/assets/js/44.0476bb9a.js"><link rel="prefetch" href="/linux-tutorial/assets/js/45.b90d4e1a.js"><link rel="prefetch" href="/linux-tutorial/assets/js/46.64d43700.js"><link rel="prefetch" href="/linux-tutorial/assets/js/47.a8d3f059.js"><link rel="prefetch" href="/linux-tutorial/assets/js/48.a36fbedb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/49.1799d727.js"><link rel="prefetch" href="/linux-tutorial/assets/js/5.1e8af3f8.js"><link rel="prefetch" href="/linux-tutorial/assets/js/50.f12984d3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/51.ce9040c5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/52.98eacd4e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/53.701965d2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/54.cc68ce47.js"><link rel="prefetch" href="/linux-tutorial/assets/js/55.653237e5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/56.44de98c2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/57.a949f342.js"><link rel="prefetch" href="/linux-tutorial/assets/js/58.64f3994d.js"><link rel="prefetch" href="/linux-tutorial/assets/js/59.e131197c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/6.a9f87cb4.js"><link rel="prefetch" href="/linux-tutorial/assets/js/60.1232bd8b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/61.aea85f2f.js"><link rel="prefetch" href="/linux-tutorial/assets/js/62.558fb7bb.js"><link rel="prefetch" href="/linux-tutorial/assets/js/63.86c2c4b7.js"><link rel="prefetch" href="/linux-tutorial/assets/js/64.a8104d1e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/65.7d5f7b77.js"><link rel="prefetch" href="/linux-tutorial/assets/js/66.285ecfa2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/67.62cd9e5f.js"><link rel="prefetch" href="/linux-tutorial/assets/js/68.fbb1e7f4.js"><link rel="prefetch" href="/linux-tutorial/assets/js/69.9d26e579.js"><link rel="prefetch" href="/linux-tutorial/assets/js/70.595c942e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/71.fa3e3e7c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/72.c0e7fd28.js"><link rel="prefetch" href="/linux-tutorial/assets/js/73.059936b7.js"><link rel="prefetch" href="/linux-tutorial/assets/js/74.76b9546f.js"><link rel="prefetch" href="/linux-tutorial/assets/js/75.599c53a5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/76.81eff8a5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/77.13799166.js"><link rel="prefetch" href="/linux-tutorial/assets/js/78.5cc7a401.js"><link rel="prefetch" href="/linux-tutorial/assets/js/79.ffc2cb73.js"><link rel="prefetch" href="/linux-tutorial/assets/js/8.dc0cd137.js"><link rel="prefetch" href="/linux-tutorial/assets/js/80.8be0e40c.js"><link rel="prefetch" href="/linux-tutorial/assets/js/81.1e0cf9b0.js"><link rel="prefetch" href="/linux-tutorial/assets/js/82.e07236c1.js"><link rel="prefetch" href="/linux-tutorial/assets/js/83.445d01a2.js"><link rel="prefetch" href="/linux-tutorial/assets/js/84.41a9c9da.js"><link rel="prefetch" href="/linux-tutorial/assets/js/85.417359ad.js"><link rel="prefetch" href="/linux-tutorial/assets/js/86.4fab0b07.js"><link rel="prefetch" href="/linux-tutorial/assets/js/87.e89d0800.js"><link rel="prefetch" href="/linux-tutorial/assets/js/88.da8e748b.js"><link rel="prefetch" href="/linux-tutorial/assets/js/89.dc1f03ca.js"><link rel="prefetch" href="/linux-tutorial/assets/js/9.fe184c91.js"><link rel="prefetch" href="/linux-tutorial/assets/js/90.d9814c8e.js"><link rel="prefetch" href="/linux-tutorial/assets/js/91.d2b0823a.js"><link rel="prefetch" href="/linux-tutorial/assets/js/92.407929d3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/93.c22cfc24.js"><link rel="prefetch" href="/linux-tutorial/assets/js/94.cc81a8b3.js"><link rel="prefetch" href="/linux-tutorial/assets/js/95.0d268a19.js"><link rel="prefetch" href="/linux-tutorial/assets/js/96.d3ebc4e5.js"><link rel="prefetch" href="/linux-tutorial/assets/js/97.613a2206.js"><link rel="prefetch" href="/linux-tutorial/assets/js/98.3b48e101.js"><link rel="prefetch" href="/linux-tutorial/assets/js/99.a360003c.js">
    <link rel="stylesheet" href="/linux-tutorial/assets/css/0.styles.7e75da3d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/linux-tutorial/" class="home-link router-link-active"><img src="/linux-tutorial/mlogo.svg" alt="Linux 系统教程（笔记）" class="logo"> <span class="site-name can-hide">Linux 系统教程（笔记）</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/linux-tutorial/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/linux-tutorial/tutorial-basis/" class="nav-link router-link-active">
  鸟哥私房菜-基础篇
</a></div><div class="nav-item"><a href="/linux-tutorial/discuss.html" class="nav-link">
  参与讨论
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记精选汇总" class="dropdown-title"><span class="title">笔记精选汇总</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub 站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://book.mrcode.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  国内镜像站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/zq99299/linux-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/linux-tutorial/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/linux-tutorial/tutorial-basis/" class="nav-link router-link-active">
  鸟哥私房菜-基础篇
</a></div><div class="nav-item"><a href="/linux-tutorial/discuss.html" class="nav-link">
  参与讨论
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记精选汇总" class="dropdown-title"><span class="title">笔记精选汇总</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub 站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://book.mrcode.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  国内镜像站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/zq99299/linux-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/linux-tutorial/tutorial-basis/" class="sidebar-link">Linux 基础篇（鸟哥私房菜）- 第四版</a></li><li><a href="/linux-tutorial/tutorial-basis/00/" class="sidebar-link">00. 计算机概论</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>01. Linux 是什么/如何学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>02. 主机规划与磁盘分区</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>03. 安装 CentOS 7.x</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>04. 首次登陆与线上求助</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>05. Linux 的文件权限与目录配置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>06. Linux 文件与目录管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>07. Linux 磁盘与文件系统管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>08. 文件与文件系统的压缩、打包与备份</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>09. vim 程序编辑器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>10. 认识与学习 BASH</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>11. 正则表达式与文件格式化处理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>12. 学习 Shell Scripts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>13. Linux 账号管理与 ACL 权限设置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>14. 磁盘配额（Quota）与进阶文件系统管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>15. 例行性工作排程（crontab）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>16. 进程管理与 SELinux 初探</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>17. 认识系统服务（daemons）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>18. 认识与分析登录文件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>19. 开机流程、模块管理与 Loader</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>20. 基础系统设置与备份策略</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux-tutorial/tutorial-basis/20/" class="sidebar-link">基础系统设置与备份策略</a></li><li><a href="/linux-tutorial/tutorial-basis/20/01.html" class="active sidebar-link">系统基本设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#网络设置（手动设置与-dhcp-自动获取）" class="sidebar-link">网络设置（手动设置与 DHCP 自动获取）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#手动设置-ip-网络参数" class="sidebar-link">手动设置 IP 网络参数</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#自动获取-ip-参数" class="sidebar-link">自动获取 IP 参数</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#修改主机名" class="sidebar-link">修改主机名</a></li></ul></li><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#日期与时间设置" class="sidebar-link">日期与时间设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#时区的显示与设置" class="sidebar-link">时区的显示与设置</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#时间调整" class="sidebar-link">时间调整</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#用-ntpdate-手动网络校时" class="sidebar-link">用 ntpdate 手动网络校时</a></li><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#语系设置" class="sidebar-link">语系设置</a></li></ul></li><li class="sidebar-sub-header"><a href="/linux-tutorial/tutorial-basis/20/01.html#防火墙简易设置" class="sidebar-link">防火墙简易设置</a></li></ul></li><li><a href="/linux-tutorial/tutorial-basis/20/02.html" class="sidebar-link">服务器硬件数据收集</a></li><li><a href="/linux-tutorial/tutorial-basis/20/03.html" class="sidebar-link">备份要点</a></li><li><a href="/linux-tutorial/tutorial-basis/20/04.html" class="sidebar-link">备份的种类、频率、与工具的选择</a></li><li><a href="/linux-tutorial/tutorial-basis/20/05.html" class="sidebar-link">鸟哥的备份策略</a></li><li><a href="/linux-tutorial/tutorial-basis/20/06.html" class="sidebar-link">灾难复原的考虑</a></li><li><a href="/linux-tutorial/tutorial-basis/20/07.html" class="sidebar-link">重点回顾</a></li><li><a href="/linux-tutorial/tutorial-basis/20/08.html" class="sidebar-link">本章习题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>21. 软件安装：原始码与 Tarball</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>22. 软件安装 RPM、SRPM、YUM</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="系统基本设置"><a href="#系统基本设置" class="header-anchor">#</a> 系统基本设置</h1> <p>CentOS 7 系统其实有许多东西需要来设置，包括之前谈到过的语系、日期、时间、网络等。以前有一个 setup 的软件将许多的设置做成图形界面，连防火墙都可以搞定，不过在 7.x 推出了 bash-complete 的功能，配合很多软件的指令下达设置，就还比较方便的</p> <h2 id="网络设置（手动设置与-dhcp-自动获取）"><a href="#网络设置（手动设置与-dhcp-自动获取）" class="header-anchor">#</a> 网络设置（手动设置与 DHCP 自动获取）</h2> <p>网络其实是很复杂的，要设置网络服务器，需要先了解  <a href="http://linux.vbird.org/linux_server/0110network_basic.php" target="_blank" rel="noopener noreferrer">网络基础<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ，因为没有人愿意自己的服务器老是被攻击或则是网络问题层出不穷</p> <p>本章仅介绍一部单机 LInux 客户端，并非服务器，所以你需要的各项网络参数，只需要找到网络管理员或则是找到你的 ISP（Internet Service Provider），询问到网络参数的获取方式或实际的网络参数即可；通常网络参数的获取方式有如下几种：</p> <ul><li><p>手动设置固定 IP</p> <p>常用于学术网络的服务器、公司内特定工位，此种方式必须取得如下几个网络参数：</p> <ul><li>IP</li> <li>子网掩码（netmask）</li> <li>网关（gateway）</li> <li>DNS：在百度搜下公用的 DNS 就知道了</li></ul></li> <li><p>网络参数可自动取得（dhcp 协议自动获取）</p> <p>常见于 IP 分享器后端的主机，或则是利用在线网？（cable modem），或则是学校宿舍的网络环境等。此种网络参数获取方式就被称为 dhcp，只需要设置上网方式为 dhcp 即可</p></li> <li><p>ASDL 宽带拨号</p> <p>无论你的 IP 是固定的还是每次拨号都不相同（被称为浮动式 IP），只要通过光钎或宽带调制解调器拨号上网的，就是使用这种方式。拨号上网虽然还是使用网卡链接到调制调节器上，不过，系统最终会产生一个替代调制调节器的网络接口（ppp0，一个实体网络接口）</p> <p>这种方式，找你的移动运营商就可以了</p></li></ul> <p>获得网络参数后，还需要知道通过什么硬件连上 Internet？其实就是网卡。目前的驻留网卡使用以太网络协议所开发出来的以太网卡（Ethernet），因此在 Linux 上这种网卡接口为 ethN（N 为数值）。比如我的测试机上有一张以太网卡，因此这主机的网络接口是 eth0（第一张卡为 0 开始）</p> <p>不过新的 CentOS 7 开始对网卡的编号有另一套规则，网卡的接口代号与网卡的来源有关，基本上的网卡名称会是这样分类：</p> <ul><li>eno1：代表由主板 BISO 内置网卡</li> <li>ens1：代表由主板 BIOS 内置的 PCI-E 接口的网卡</li> <li>enp2s0：代表 PCI-E 接口的独立网卡，可能有多个插孔，因此会有s0、s1.... 等编号</li> <li>eth0：如果上述名称都不适用，则回到原本的预设网卡编号</li></ul> <p>可以通过 <code>ifconfig -a</code> 列出你主机上的所有网卡，另外 CentOS 7 不建议直接手动修改配置文件，而是通过 nmcli 指令来设置网络参数</p> <h3 id="手动设置-ip-网络参数"><a href="#手动设置-ip-网络参数" class="header-anchor">#</a> 手动设置 IP 网络参数</h3> <p>如果你已经获取到网络参数，基本上的网络参数需要这些数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>method: manual # 手动设置
IP: 172.16.1.1
netmask: 255.255.0.0
gateway: 172.16.200.254
DNS: 172.162.200.254
hostname: study.centos.mrcode  # 暂时不用理会
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>cmcli 是通过一个名为「联机代号」的名称来设置是否要上网，每个「联机代号」会有一个「网卡号」，这两个通常设置为相同值</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>nmcli connection show <span class="token punctuation">[</span>网卡代号<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查询系统上的联机代号</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection show</span>
NAME    UUID                                  TYPE      DEVICE
enp0s3  402f740a-d5a9-4a18-8837-21df7c6771fa  ethernet  enp0s3
virbr0  e2eb3b9d-bbc2-4b8d-b73a-94183164cc47  bridge    virbr0

<span class="token comment"># NAME 联机代号、通常与后面的网卡 DEVICE 一样</span>
<span class="token comment"># UUID：特殊设备识别号</span>
<span class="token comment"># TYPE：网卡类型，通常是以太网卡</span>
<span class="token comment"># DEVICE：网卡名称</span>

<span class="token comment"># 从上面知道我们其实有两个网卡代号。可以查询这个联机代号的设置数据</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection show enp0s3</span>
connection.id:                          enp0s3
connection.uuid:                        402f740a-d5a9-4a18-8837-21df7c6771fa
connection.stable-id:                   --
connection.type:                        <span class="token number">802</span>-3-ethernet
connection.interface-name:              enp0s3
connection.autoconnect:                 <span class="token function">yes</span>
<span class="token punctuation">..</span>.
ipv4.method:                            manual
ipv4.dns:                               --
ipv4.dns-search:                        --
ipv4.dns-options:                       <span class="token string">&quot;&quot;</span>
ipv4.dns-priority:                      <span class="token number">0</span>
ipv4.addresses:                         <span class="token number">192.168</span>.4.223/24
ipv4.gateway:                           --
<span class="token punctuation">..</span>.
IP4.ADDRESS<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>:                         <span class="token number">192.168</span>.4.223/24
IP4.GATEWAY:                            --
IP4.ROUTE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>:                           dst <span class="token operator">=</span> <span class="token number">192.168</span>.4.0/24, nh <span class="token operator">=</span> <span class="token number">0.0</span>.0.0, mt <span class="token operator">=</span> <span class="token number">100</span>
IP6.ADDRESS<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>:                         fe80::3513:3436:21d:f327/64
IP6.GATEWAY:                            --
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>上面信息大写的 IP4、IP6 是目前的实际使用的网络参数，最上面的 connection 部分则是联机的状态，比较重要的参数含义如下：</p> <ul><li><code>connection.autoconnect [yes|no]</code>：是否开机时启动这个联机，通常预设为 yes</li> <li><code>ipv4.method [auto|manual]</code>：自动还是手动设置网络参数</li> <li><code>ipv4.dns</code>：DNS IP 地址</li> <li><code>ipv4.addresses [IP/Netmask]</code>： IP 与 netmask 的集合</li> <li><code>ipv4.gateway</code>： gateway 的 IP 地址</li></ul> <p>根据上面的设置项目，将我们的网络参数设置好</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection modify enp0s3 \</span>
connection.autoconnect <span class="token function">yes</span> <span class="token punctuation">\</span>
ipv4.method manual <span class="token punctuation">\</span>
ipv4.addresses <span class="token number">192.168</span>.110.10/24 <span class="token punctuation">\</span>
ipv4.gateway <span class="token number">192.168</span>.110.1
<span class="token comment"># ipv4.dns 8.8.8.8</span>

<span class="token comment"># 上面只是修改了配置文件，还需实际生效才可以</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection up enp0s3</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection show enp0s3</span>
IP4.ADDRESS<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>:                         <span class="token number">192.168</span>.110.10/24
IP4.GATEWAY:                            <span class="token number">192.168</span>.110.1
IP4.ROUTE<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>:                           dst <span class="token operator">=</span> <span class="token number">192.168</span>.111.0/24, nh <span class="token operator">=</span> <span class="token number">0.0</span>.0.0, mt <span class="token operator">=</span> <span class="token number">100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>笔者是虚拟机，使用 <a href="https://zq99299.github.io/note-book/_posts/virtualbox/#%E7%BD%91%E7%BB%9C%E7%AF%87-host-only%EF%BC%88win10%EF%BC%89" target="_blank" rel="noopener noreferrer">Host Only 方式与主机共享外网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ，上面获取到的网络参数也是从这个网络管理器里面设置的。这样就可以让你的虚拟机上网了</p> <h3 id="自动获取-ip-参数"><a href="#自动获取-ip-参数" class="header-anchor">#</a> 自动获取 IP 参数</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection modify enp0s3 \</span>
connection.autoconnect <span class="token function">yes</span> <span class="token punctuation">\</span>
ipv4.method auto

<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection up enp0s3</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># nmcli connection show enp0s3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>自动的就是使用了 dhcp 服务获取的参数配置</p> <h3 id="修改主机名"><a href="#修改主机名" class="header-anchor">#</a> 修改主机名</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>hostnamectl <span class="token punctuation">[</span>set-hostname 你的主机名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 1. 显示当前的主机名</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl</span>
   Static hostname: study.centos.mrcode				<span class="token comment"># 主机名</span>
         Icon name: computer-vm
           Chassis: vm
        Machine ID: e4a1acbeffac4762b2c9ed13daf9a493
           Boot ID: da0fdf95ea7f43e69ba5fd4d33c1a1b3
    Virtualization: kvm
  Operating System: CentOS Linux <span class="token number">7</span> <span class="token punctuation">(</span>Core<span class="token punctuation">)</span>			<span class="token comment"># 操作系统名称</span>
       CPE OS Name: cpe:/o:centos:centos:7
            Kernel: Linux <span class="token number">3.10</span>.0-1062.el7.x86_64	<span class="token comment"># 核心版本</span>
      Architecture: x86-64							<span class="token comment"># 硬件版本</span>

<span class="token comment"># 2. 尝试修改主机名为 www.centos.mrcode ，之后再修改回来</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl set-hostname www.centos.mrcode</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/hostname</span>
www.centos.mrcode
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl set-hostname study.centos.mrcode</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="日期与时间设置"><a href="#日期与时间设置" class="header-anchor">#</a> 日期与时间设置</h2> <p>第 4 章中的 date 指令，可以进行日期、时间的设置。不过怎么修改时区呢？下次开机还会是正确的时间吗？如果有网络的话，如何进行网络校时</p> <h3 id="时区的显示与设置"><a href="#时区的显示与设置" class="header-anchor">#</a> 时区的显示与设置</h3> <p>因为地球是圆的，每个时刻每个地区的时间可能都不一样。为了统治时间，有个 GMT 格林威治时间（时区）</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>timedatectl <span class="token punctuation">[</span>commamd<span class="token punctuation">]</span>

选项与参数：
	list-timezones：列出系统上所有支持的时区名称
	set-timezone：设置时区
	set-time：设置时间
	set-ntp：设置网络校时系统
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 1. 显示目前的时区与时间等信息</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># timedatectl</span>
      Local time: Wed <span class="token number">2020</span>-04-01 <span class="token number">17</span>:32:12 CST		<span class="token comment"># 本地时间</span>
  Universal time: Wed <span class="token number">2020</span>-04-01 09:32:12 UTC		<span class="token comment"># URC 时间，可称为格林威治时间</span>
        RTC time: Wed <span class="token number">2020</span>-04-01 09:32:12
       Time zone: Asia/Shanghai <span class="token punctuation">(</span>CST, +0800<span class="token punctuation">)</span>		<span class="token comment"># 时区</span>
     NTP enabled: no
NTP synchronized: no
 RTC <span class="token keyword">in</span> <span class="token builtin class-name">local</span> TZ: no
      DST active: n/a

<span class="token comment"># 2. 显示出是否有 New_York 时区，若有，则将目前的时区更新</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># timedatectl list-timezones | grep -i new</span>
America/New_York
America/North_Dakota/New_Salem

<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># timedatectl set-timezone America/New_York</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># timedatectl</span>
      Local time: Wed <span class="token number">2020</span>-04-01 05:35:41 EDT
  Universal time: Wed <span class="token number">2020</span>-04-01 09:35:41 UTC
        RTC time: Wed <span class="token number">2020</span>-04-01 09:35:41
       Time zone: America/New_York <span class="token punctuation">(</span>EDT, -0400<span class="token punctuation">)</span>
     NTP enabled: no
NTP synchronized: no
 RTC <span class="token keyword">in</span> <span class="token builtin class-name">local</span> TZ: no
      DST active: <span class="token function">yes</span>
 Last DST change: DST began at
                  Sun <span class="token number">2020</span>-03-08 01:59:59 EST
                  Sun <span class="token number">2020</span>-03-08 03:00:00 EDT
 Next DST change: DST ends <span class="token punctuation">(</span>the clock jumps one hour backwards<span class="token punctuation">)</span> at
                  Sun <span class="token number">2020</span>-11-01 01:59:59 EDT
                  Sun <span class="token number">2020</span>-11-01 01:00:00 EST

<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># timedatectl set-timezone Asia/Shanghai</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="时间调整"><a href="#时间调整" class="header-anchor">#</a> 时间调整</h3> <p>调整时间的格式可以是 <code>yyyy-mm-dd HH:MM</code> 格式</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 将时间调整到正确的时间上</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># timedatectl set-time &quot;2020-04-01 17:38&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>以前使用 date 去修改日期后，还需要使用 hwclock 去修改 BIOS 记录的时间，现在通过该指令就简单多了</p> <h3 id="用-ntpdate-手动网络校时"><a href="#用-ntpdate-手动网络校时" class="header-anchor">#</a> 用 ntpdate 手动网络校时</h3> <p>使用系统默认的自动校时功能，会启动 NTP 协议相关的软件，会多开好几个 port，所以有些人也喜欢吧校正指令写入 crontab 中</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># ntpdate tock.stdtime.gov.tw</span>
 <span class="token number">1</span> Apr <span class="token number">17</span>:42:48 ntpdate<span class="token punctuation">[</span><span class="token number">2754</span><span class="token punctuation">]</span>: step <span class="token function">time</span> server <span class="token number">211.22</span>.103.157 offset <span class="token number">2.937308</span> sec

<span class="token comment"># 将时间刷入 BIOS</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># hwclock -w</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上述 <code>tock.stdtime.gov.tw</code> 是某一个 NTP 服务器提供的服务，也可以百度下目前常用的 NTP 服务器地址</p> <h3 id="语系设置"><a href="#语系设置" class="header-anchor">#</a> 语系设置</h3> <p>在第 4 章中讲到过 LANG 与 locale 指令能够查询目前的语系数据与变量，也知道 <code>/etc/locale.conf</code> 其实就是语系的配置文件。</p> <p>另外，系统的语系与你目前软件的语系数据可能是不一样的。还可以使用 localectl 来查询系统语系</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># localectl</span>
   System Locale: <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8			<span class="token comment"># 语系系统</span>
       VC Keymap: cn
      X11 Layout: cn

<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># locale</span>
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8				<span class="token comment"># 下面的规则则是当前这个软件的语系数据</span>
<span class="token assign-left variable">LC_CTYPE</span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_NUMERIC</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_TIME</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable">LC_COLLATE</span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_MONETARY</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable">LC_MESSAGES</span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_PAPER</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_NAME</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_ADDRESS</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_TELEPHONE</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_MEASUREMENT</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_IDENTIFICATION</span></span><span class="token operator">=</span><span class="token string">&quot;zh_CN.UTF-8&quot;</span>
<span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>可以看到，一个是系统的语系，一个是当前这个 bash 的语系，可以通过如下方式修改系统语系</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># localectl set-locale LANG=en_US.utf8</span>
<span class="token comment"># 之前讲过的这个是切换到文本模式</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># systemctl isolate multi-user.target</span>
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># systemctl isolate graphical.target</span>
<span class="token comment"># 这里需要注意的是：虽然有时候看到的语言是 zh_CN.UTF-8，但是其实后面是没有斜杠的</span>
<span class="token comment"># 比如这里要换成中文的，那么就要设置成 zh_CN.utf8  才可以，不然看着设置成功了，但是图形界面还是英文的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>重启后，从感官上在终端模式你可能感受不到什么变化，但是你进入图形化界面，就会发现整个环境都变成英文的了</p> <h2 id="防火墙简易设置"><a href="#防火墙简易设置" class="header-anchor">#</a> 防火墙简易设置</h2> <p>有网络没有防火墙是有点危险</p> <p>防火墙其实是一种网络数据的过滤方式，它可以根据服务器启动的服务来设置是否放行，也能够针对你信任的用户来放行。这部分应该要对网络有点概念之后才来讨论比较好，所以详细的数据会写在服务器篇的内容。</p> <p>目前 CentOS 7 的预设防火墙机制为 firewalld，它的管理主要是通过  firewall-cmd 指令，但是目前我们没有学习更多的防火墙与网络规则，想要了解 firewall-cmd 有点难，所以本小节仅适用图形界面来介绍防火墙的相关数据</p> <p><img src="/linux-tutorial/assets/img/image-20200402103104786.a9fa6995.png" alt="image-20200402103104786"></p> <p><img src="/linux-tutorial/assets/img/image-20200403131250864.a71b53ad.png" alt="image-20200403131250864"></p> <ul><li><p>配置：「运行时」与「永久」的差异</p> <p>基本上防火墙的规则大概有两种情况，暂时用来执行的规则与永久记录的规则。一般来说，刚刚启动防火墙时，这两种规则会一模一样。如果在运行时中你加上了几条规则测试后，没有写入永久记录里面的话，那么下次重新启动防火墙时，该规则就会消失</p></li> <li><p>区域：根据不同的环境所设计的网络区域</p> <p>玩过网络后，你可能会听说过所谓的本机网络、NAT 与 DMZ 等网域，同时可能还有可信任的（trusted）网域，或则是应该被抵挡（drop/block）的网域等等。这些网域各有特点，早期的 iptables 防火墙服务，所有的规则都需要你自己手动来编写，然后规则的细分需要自己去规划，所以很可能会导致一堆无法理解的规则</p> <p>新的 firewalld 服务就预先设计这些可能会被用到的网络环境，里面的规则除了 public（公开网域）外，其他的区域则暂时为没有启动的状态</p> <p>在本章只需要考虑 public 这个区域即可，其他的等你学习了服务器篇再讨论</p></li> <li><p>相关设置项目</p> <p>防火墙规则通常需要设置的地方有：</p> <ul><li>服务：一般来说，如果是作为 internet 的服务器，提供的是比较一般的服务，只需要处理该项即可。默认你的服务器已经提供了 ssh 与 dhcpv6-client 的服务端口</li> <li>端口：如果你提供的服务所启用的端口并不是正规的端口，比如为了玩 systemd 与 SELinux，我们曾经将 ssh 的端口调整到 222，那么如果你想过要让人家连进来，除了「服务」外，还需要对「端口调整」。另外如果某些比较特别的服务时 CentOS 预设没有提供的，所以在 「服务」中也是不存在的，这时可以直接通过端口来搞定</li> <li>富规则：如果你有整个网域需要放行或者是拒绝的时候，那么前两个项目就无法适用了。</li> <li>接口：该区域针对哪一个网卡来做限制。</li></ul> <p>至于伪装、端口转发、ICMP 过滤器、来源等这里不介绍，这属于网络的概念知识，基础篇不讲解。</p></li></ul> <p>下面进行练习示例：</p> <ul><li>要作为 ssh、www、ftp、https 等正规端口的服务</li> <li>同时与前几章搭配，需要放行 port 222 与 port 555</li> <li>局域网络 192.168.1.0/24 这一段想要直接放行这段网域对我们服务器的联机</li></ul> <p>以上需求需要怎么配置？因为需要永久生效，所以需要在永久里面去修改才行，同时因为永久设置比较重要，在进入时需要先进行授权（弹框让你输入密码）</p> <p><img src="/linux-tutorial/assets/img/image-20200403132310377.6e469cdc.png" alt="image-20200403132310377"></p> <p>勾选上 ftp、http、https、ssh，勾选即生效了</p> <p>下面进行端口的配置</p> <p><img src="/linux-tutorial/assets/img/image-20200403132610040.6737d05e.png" alt="image-20200403132610040"></p> <p>添加上 222 与 555 端口。</p> <p>下面开始处理局域网络的放行，由于书上说是在富规则里面配置的，但是这个 UI 配置有点问题？所以使用命令来配置的</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --permanent --add-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;192.168.1.0/24&quot; accept'</span>
success
<span class="token punctuation">[</span>root@study ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --reload</span>
success
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用命令之后，在界面上出现了配置，如下
<img src="/linux-tutorial/assets/img/image-20200403133234683.1d20d045.png" alt="image-20200403133234683"></p> <p><img src="/linux-tutorial/assets/img/image-20200403133531975.b59289a3.png" alt="image-20200403133531975"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zq99299/linux-tutorial/edit/master/docs/tutorial-basis/20/01.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: :</span> <span class="time">a minute ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/linux-tutorial/tutorial-basis/20/" class="prev router-link-active">
        基础系统设置与备份策略
      </a></span> <span class="next"><a href="/linux-tutorial/tutorial-basis/20/02.html">
        服务器硬件数据收集
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/linux-tutorial/assets/js/app.1929cdab.js" defer></script><script src="/linux-tutorial/assets/js/2.b00e63ff.js" defer></script><script src="/linux-tutorial/assets/js/7.bc7f10b3.js" defer></script><script src="/linux-tutorial/assets/js/16.b0a90d5f.js" defer></script>
  </body>
</html>
