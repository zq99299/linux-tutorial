(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{599:function(s,a,n){"use strict";n.r(a);var t=n(16),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"基础正则表达式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础正则表达式"}},[s._v("#")]),s._v(" 基础正则表达式")]),s._v(" "),n("p",[s._v("既然正则表达式是处理字符串的一种表示方式，那么对字符排序有影响的语系数据就会对正则表达式的结果有影响。此外也需要有支持工具程序来辅助才行。")]),s._v(" "),n("p",[s._v("因此这里先介绍一个最简单的字符串摘取工具程序 grep。前面讲解了 grep 的相关参数与参数，本章着重讲解进阶的 grep 选项说明，介绍完 grep 的功能后，就进入正则表达式的特殊字符处理能力")]),s._v(" "),n("h2",{attrs:{id:"语系对正则表达式的影响"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#语系对正则表达式的影响"}},[s._v("#")]),s._v(" 语系对正则表达式的影响")]),s._v(" "),n("p",[s._v("为什么语系数据会影响正则表达式的输出结果？在第 0 章计算器概论的文字编码系统里面谈到，文件其实记录的仅有 0 与 1，我们看到的字符与数值都是通过编码表转换来的。")]),s._v(" "),n("p",[s._v("由于不同语系的编码数据不同，就会造成数据处理结果的差异了，举例说明，假设两种语系输出结果为：")]),s._v(" "),n("ul",[n("li",[s._v("LANG=C：0 1 2 3 ... A B C D ..Z a b c d .. z")]),s._v(" "),n("li",[s._v("LANG=zh_TW ：0 1 2 3 ... a A b c C D .. z Z")])]),s._v(" "),n("p",[s._v("两种语系明显不一样，如果想获取大写字符使用 "),n("code",[s._v("[A-Z]")]),s._v("时，会发现 C 可以获取到正确的大写字符（因为是连续的），zh_TW 连同小写也会 b-z 也会获取到，因为就编码的顺序来看，big5 语系可以获取到 "),n("code",[s._v("A b B c C .. z Z")]),s._v(" 这一堆字符。")]),s._v(" "),n("p",[s._v("所以使用正则表达式时，需要留意当前的语系，否则可能发现与别人不同的截取结果")]),s._v(" "),n("p",[s._v("由于一般我们再联系正则表达式时，使用的是兼容于 POSIX 的标准，因此就使用 C 这个语系，因此下面的练习都是使用 "),n("code",[s._v("LANG=C")]),s._v("来练习的。为了避免这样编码所造成的英文与数字截取问题，因此特殊符号需要了解下")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("[:alnum:]")]),s._v("：代表英文大小写字符及数字，即 0-9、A-Z、a-z")]),s._v(" "),n("li",[n("code",[s._v("[:alpha:]")]),s._v("：代表任何英文大小写字符，A-Z、a-z")]),s._v(" "),n("li",[n("code",[s._v("[:blank:]")]),s._v("：代表空格与 tab")]),s._v(" "),n("li",[n("code",[s._v("[:cntrl:]")]),s._v("：代表键盘上面的控制按键，包括 CR、LF、TAB、Del 等")]),s._v(" "),n("li",[n("code",[s._v("[:digit:]")]),s._v("：代表数字，0-9")]),s._v(" "),n("li",[n("code",[s._v("[:graph:]")]),s._v("：除了空格符（空格键与 tab 键）外其他的所有按键")]),s._v(" "),n("li",[n("code",[s._v("[:lower:]")]),s._v("：代表些小字符，a-z")]),s._v(" "),n("li",[n("code",[s._v("[:print:]")]),s._v("：代表任何可以被打印出来的字符")]),s._v(" "),n("li",[n("code",[s._v("[:punct:]")]),s._v("：代表标点符号（punctuation symbol）")]),s._v(" "),n("li",[n("code",[s._v("[:upper:]")]),s._v("：代表大写字符，A-Z")]),s._v(" "),n("li",[n("code",[s._v("[:space:]")]),s._v("：任何会产生空白的字符，包括空格、tab、CR 等")]),s._v(" "),n("li",[n("code",[s._v("[:xdigit:]")]),s._v("：代表 16 进制的数值类型，包括 0-9、A-F、a-f 的数字与字符")])]),s._v(" "),n("p",[s._v("尤其是 "),n("code",[s._v("[:alnum:]")]),s._v("、"),n("code",[s._v("[:alpha:]")]),s._v("、"),n("code",[s._v("[:upper:]")]),s._v("、"),n("code",[s._v("[:lower:]")]),s._v("、"),n("code",[s._v("[:digit:]")]),s._v("一定要知道代表什么意思，因为他们要比 a-z 或 A-Z 的用途要确定。")]),s._v(" "),n("h2",{attrs:{id:"grep-的一些进阶选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#grep-的一些进阶选项"}},[s._v("#")]),s._v(" grep 的一些进阶选项")]),s._v(" "),n("p",[s._v("在第十章 BASH 中的 grep 谈论过一些基础用法，下面列出较进阶的 grep 选项与参数")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-A"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-B"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--color"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'auto'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键词'")]),s._v(" filename\n\n-A：后面可以加数字，为 after 的意思，除了列出该行外，后续的 n 行也列出来\n-B：后面可以加数字，为 befer 的意思，处理列出该行外，前面的 n 行也列出来\n--colort"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto：可将正确的哪个截取数据列出颜色\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("实践与练习")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：用 dmesg 列出核心信息，再以 grep 找出含有 qx1 那一行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dmesg")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'qx1'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 笔者不知道自己使用的显卡是什么，而且使用的是虚拟机，而作者使用的显卡是 qx1，所以查看显卡信息")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 2：用 --color=auto 显示查找到的关键词高亮,并显示行号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dmesg")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n --color"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto ‘qx1’\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 3：在关键词所在行的前两行与后三行也一起显示出来")]),s._v("\ndmest "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n -A2 -B3 --color"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'qx1'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("grep 是一个很常见也很常用的指令，最重要的功能就是进行字符串的比对，然后将符合用户需求的字符串打印出来。需要注意的是：grep 是已整行为单位来进行数据截取的")]),s._v(" "),n("h2",{attrs:{id:"基础正则表达式练习"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础正则表达式练习"}},[s._v("#")]),s._v(" 基础正则表达式练习")]),s._v(" "),n("p",[s._v("要了解正则表达式最简单的方法就是由实际练习去感受，所以在汇总特殊符号前，先以下面这个文件的内容来进行正则表达式的练习，练习前提为：")]),s._v(" "),n("ul",[n("li",[s._v("语系已经使用 "),n("code",[s._v("export LANG=C；export LC_ALL=C")])]),s._v(" "),n("li",[s._v("grep 已经使用 alias 设置为 "),n("code",[s._v("grep --color=auto")])])]),s._v(" "),n("p",[s._v("本机默认为 "),n("code",[s._v("LANG=en_US.UTF-8;LC_ALL=")])]),s._v(" "),n("p",[s._v("文件为 regular——express.txt ，该文件内容是在 windows 系统下编辑的，所以包含 dos 的换行符；")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\"Open Source\" is a good mechanism to develop programs.\napple is my favorite food.\nFootball game is not use feet only.\nthis dress doesn't fit me.\nHowever, this dress is about $ 3183 dollars.\nGNU is free air not free beer.\nHer hair is very beauty.\nI can't finish the test.\nOh! The soup taste good.\nmotorcycle is cheap than car.\nThis window is clear.\nthe symbol '*' is represented as start.\nOh!\tMy god!\nThe gd software is a library for drafting programs.\nYou are the best is mean you are the no. 1.\nThe world <Happy> is the same with \"glad\".\nI like dog.\ngoogle is the best tools for search keyword.\ngoooooogle yes!\ngo! go! Let's go.\n# I am VBird\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("p",[s._v("文件最后一行为空白行。")]),s._v(" "),n("h3",{attrs:{id:"范例-1：搜索特定字符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#范例-1：搜索特定字符"}},[s._v("#")]),s._v(" 范例 1：搜索特定字符")]),s._v(" "),n("p",[s._v("从文件中取得 the 这个特定字符串，最简单的方式如下")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'the'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":I can"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t finish the test.\n12:the symbol '")]),s._v("*' is represented as start.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":You are the best is mean you are the no. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":The world "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Happy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" is the same with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"glad"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("反向选择，可以看到输出结果少了上面的 8、12、15、16、18 行")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -vn "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'the'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":apple is my favorite food.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":this dress doesn"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t fit me.\n5:However, this dress is about $ 3183 dollars.\n6:GNU is free air not free beer.\n7:Her hair is very beauty.\n9:Oh! The soup taste good.\n10:motorcycle is cheap than car.\n11:This window is clear.\n13:Oh!  My god!\n14:The gd software is a library for drafting programs.\n17:I like dog.\n19:goooooogle yes!\n20:go! go! Let'")]),s._v("s go.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# I am VBird")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("忽略大小写 ，多出来几行")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -in "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'the'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":I can"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t finish the test.\n9:Oh! The soup taste good.\n12:the symbol '")]),s._v("*' is represented as start.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":The gd software is a library "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" drafting programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":You are the best is mean you are the no. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":The world "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Happy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" is the same with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"glad"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"范例-2：利用中括号-来搜索集合字符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#范例-2：利用中括号-来搜索集合字符"}},[s._v("#")]),s._v(" 范例 2：利用中括号"),n("code",[s._v("[]")]),s._v("来搜索集合字符")]),s._v(" "),n("p",[s._v("如果要搜索 test 或 taste 这两个单词时，可以发现他们其实有共同的 "),n("code",[s._v("t?st")]),s._v(" 存在")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[mrcode@study tmp]$ grep -n 't[ae]st' regular_express.txt\n8:I can't finish the test.\n9:Oh! The soup taste good.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("中括号中，无论几个字符都表示任意一个字符。如果想要搜索到所有 oo 字符时")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'oo'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":apple is my favorite food.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The soup taste good.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":goooooogle yes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("如果不想要 oo 前面的 g 呢？")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[^g]oo'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":apple is my favorite food.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":goooooogle yes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("会发现可能会有一部分是正确的，一部分是错误的，比如 1、9 行少了，但是 google 和 goooooogle 还是出来了，是怎么回事？第 18 行，出现了 tools 所以也符合 "),n("code",[s._v("[^g]oo")]),s._v("，而 19 行，中间有那么多的 oo，也符合")]),s._v(" "),n("p",[s._v("继续，不想要 oo 前面是小写字符的")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 由于小写字符的 ASCII 编码顺序是连续的，所以可以简化为，否则就需要把 a-z 都写出来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[^a-z]oo'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取得有数字那一行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[0-9]'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":However, this dress is about $ "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3183")]),s._v(" dollars.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":You are the best is mean you are the no. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("由于考虑到语系对于编码顺序的影响，因此除了连续编码使用减号 "),n("code",[s._v("-")]),s._v("，还可以使用如下的方法来取得前面两个测试的结果")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[^[:lower:]]oo'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[[:digit:]]'")]),s._v(" regular_express.txt\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":However, this dress is about $ "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3183")]),s._v(" dollars.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":You are the best is mean you are the no. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"范例-3：行首与行位字符-、"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#范例-3：行首与行位字符-、"}},[s._v("#")]),s._v(" 范例 3：行首与行位字符 "),n("code",[s._v("^、$")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只要行首是 the 的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^the'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":the symbol "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v(" is represented as start.\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 想要行首是小写字符开头的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^[a-z]'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":apple is my favorite food.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":this dress doesn"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t fit me.\n10:motorcycle is cheap than car.\n12:the symbol '")]),s._v("*"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' is represented as start.\n18:google is the best tools for search keyword.\n19:goooooogle yes!\n20:go! go! Let'")]),s._v("s go.\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面的等效")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [mrcode@study tmp]$ grep -n '^[[:lower:]]' regular_express.txt ")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不要英文字母开头的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ^ 在中括号内表示反选，在外表示定位首航")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^[^a-zA-Z]'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# I am VBird")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("p",[s._v("行尾练习")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出行尾为 . 符号的数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 \\ 对 小数点转义")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\.$'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":apple is my favorite food.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":this dress doesn"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t fit me.\n5:However, this dress is about $ 3183 dollars.\n6:GNU is free air not free beer.\n7:Her hair is very beauty.\n8:I can'")]),s._v("t finish the test.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The soup taste good.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":motorcycle is cheap than car.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":This window is clear.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":the symbol "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v(" is represented as start.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":The gd software is a library "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" drafting programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":You are the best is mean you are the no. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":The world "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Happy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" is the same with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"glad"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":I like dog.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":go"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" go"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Let's go.\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("p",[s._v("这里需要说一句，原本的文件 5-9 行默认是 "),n("code",[s._v(".^M$")]),s._v(" 结尾的，也就是 "),n("code",[s._v("\\r\\n")]),s._v("，由于没有网络，无法下载文件，所以复制粘贴丢失了这些换行符，和书上结果不一样。")]),s._v(" "),n("p",[s._v("也就是说上面的示例 5-9 不应该出来的，使用命令查看特殊字符应该如下")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" -An regular_express.txt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  However, this dress is about $ "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3183")]),s._v(" dollars.^M$\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("  GNU is "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" air not "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" beer.^M$\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  Her hair is very beauty.^M$\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("  I can't finish the test.^M$\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("  Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The soup taste good.^M$\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  motorcycle is cheap than car.$\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但实际上 ^M 被丢失了")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("找出空白行")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^$'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只有行首和行尾的表示法，中间没有任何字符，所以是 ^$")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("假设你已经知道 shell script 或则是配置文件中，空白行与开头为 # 的那一行是批注，想要将这些数据忽略掉，该怎么做？")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" -n /etc/rsyslog.conf \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 centOS 7 中可以看到有 91 行，有大量的空行与批注信息")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一种写法：-v '^$' 是反选，也就是排除空行的，-v ‘^#’ 排除开头是 # 号的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是这里的行号与源文件对不上了，后面的行号是针对前面排除空行后的行号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^$'")]),s._v(" /etc/rsyslog.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -vn "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^#'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ModLoad")]),s._v(" imuxsock "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# provides support for local system logging (e.g. via logger command)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ModLoad")]),s._v(" imjournal "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# provides access to the systemd journal")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$WorkDirectory")]),s._v(" /var/lib/rsyslog\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ActionFileDefaultTemplate")]),s._v(" RSYSLOG_TraditionalFileFormat\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IncludeConfig")]),s._v(" /etc/rsyslog.d/*.conf\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OmitLocalLogging")]),s._v(" on\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IMJournalStateFile")]),s._v(" imjournal.state\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v(":*.info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("mail.none"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("authpriv.none"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("cron.none                /var/log/messages\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v(":authpriv.*                                              /var/log/secure\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v(":mail.*                                                  -/var/log/maillog\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v(":cron.*                                                  /var/log/cron\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(":*.emerg                                                 :omusrmsg:*\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v(":uucp,news.crit                                          /var/log/spooler\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v(":local7.*                                                /var/log/boot.log\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二种实现：直接匹配行首非 # 开头的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 因为使用了中括号表示需要有一个字符存在，所以空行的不会被匹配")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^[^#]'")]),s._v(" /etc/rsyslog.conf \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ModLoad")]),s._v(" imuxsock "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# provides support for local system logging (e.g. via logger command)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ModLoad")]),s._v(" imjournal "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# provides access to the systemd journal")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$WorkDirectory")]),s._v(" /var/lib/rsyslog\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ActionFileDefaultTemplate")]),s._v(" RSYSLOG_TraditionalFileFormat\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IncludeConfig")]),s._v(" /etc/rsyslog.d/*.conf\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OmitLocalLogging")]),s._v(" on\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IMJournalStateFile")]),s._v(" imjournal.state\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),s._v(":*.info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("mail.none"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("authpriv.none"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("cron.none                /var/log/messages\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),s._v(":authpriv.*                                              /var/log/secure\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(":mail.*                                                  -/var/log/maillog\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(":cron.*                                                  /var/log/cron\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("67")]),s._v(":*.emerg                                                 :omusrmsg:*\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v(":uucp,news.crit                                          /var/log/spooler\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("73")]),s._v(":local7.*                                                /var/log/boot.log\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])]),n("p",[s._v("这里要注意的是批注可以出现在任意处，所以匹配行首的是最安全的做法")]),s._v(" "),n("h3",{attrs:{id:"范例-4：任意一个字符-与重复字符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#范例-4：任意一个字符-与重复字符"}},[s._v("#")]),s._v(" 范例 4：任意一个字符 "),n("code",[s._v(".")]),s._v(" 与重复字符 "),n("code",[s._v("*")])]),s._v(" "),n("p",[s._v("在第十章 bash 中，通配符 "),n("code",[s._v("*")]),s._v("表示任意（0 或 多个）字符，但是正则表达式中并不是这样，他们含义如下：")]),s._v(" "),n("ul",[n("li",[n("code",[s._v(".")]),s._v("：一定有一个任意字符")]),s._v(" "),n("li",[n("code",[s._v("*")]),s._v("：重复前一个字符，0  到任意次，为组合形态")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出 g??d 的字符串，也就是 g 开头 d 结尾的 4 字符的字符串")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'g..d'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The soup taste good.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":The world "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Happy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" is the same with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"glad"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出 oo、ooo、ooo 等数据，至少含有 2 个 o")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意，这里不能写 oo* 因为，*是作用于第二个 o 的，表示 0 到任意个")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也就是说如果是 oo* 有可能匹配到一个 o ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ooo*'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":apple is my favorite food.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The soup taste good.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":goooooogle yes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出 开头与结尾都是 g ，并且中间至少含有一个 o 的数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也就是 gog、goog 之类的数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'goo*g'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":goooooogle yes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出 开头与结尾都是 g，中间有无字符均可")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'g*g'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The soup taste good.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("  My god"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":The gd software is a library "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" drafting programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":The world "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Happy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" is the same with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"glad"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":I like dog.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":goooooogle yes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":go"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" go"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Let"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s go.\n# 使用 g*g 发现第一行的数据就不匹配，这个还是需要再终端看，因为可以开启高亮，方便查看哈\n# 原因是 * 作用于 g，g* 代表空字符或一个以上的 g，因此应该匹配 g、gg、ggg 等\n\n# 正确的应该这样实现\n[mrcode@study tmp]$ grep -n '")]),s._v("g.*g"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' regular_express.txt \n1:\"Open Source\" is a good mechanism to develop programs.\n14:The gd software is a library for drafting programs.\n18:google is the best tools for search keyword.\n19:goooooogle yes!\n20:go! go! Let'")]),s._v("s go.\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出包含任意数字的数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同上，[0-9]* 只作用于一个中括号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[0-9][0-9]*'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":However, this dress is about $ "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3183")]),s._v(" dollars.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":You are the best is mean you are the no. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接使用 grep -n '[0-9]' regular_express.txt 也可以得到相同结果哈")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br")])]),n("h3",{attrs:{id:"范例-5：限定连续-正则字符范围"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#范例-5：限定连续-正则字符范围"}},[s._v("#")]),s._v(" 范例 5：限定连续 正则字符范围 "),n("code",[s._v("{}")])]),s._v(" "),n("p",[s._v("找出 2 个到 5 个 o 的连续字符串")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 华括弧在 shell 中是特殊符号，需要转义")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'o\\{2\\}'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Open Source"')]),s._v(" is a good mechanism to develop programs.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":apple is my favorite food.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":Football game is not use feet only.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":Oh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" The soup taste good.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":goooooogle yes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上述结果是至少是 2 个 oo 的出来了")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 单词开头结尾都是 g，中间 o，至少 2 个，最多 5 个")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'go\\{2,5\\}g'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 承上，只是中间的 o 至少 2 个")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'go\\{2,\\}g'")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":google is the best tools "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" search keyword.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":goooooogle yes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h2",{attrs:{id:"基础正则表示法字符汇总"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础正则表示法字符汇总"}},[s._v("#")]),s._v(" 基础正则表示法字符汇总")]),s._v(" "),n("ul",[n("li",[n("p",[n("code",[s._v("^word")]),s._v("：搜索的关键词 word 在行首")]),s._v(" "),n("p",[s._v("范例：搜索行首为 # 的，并列出行号 "),n("code",[s._v("grep -n '^#' file")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("word$")]),s._v("：搜索的关键词 word 在行尾")]),s._v(" "),n("p",[s._v("范例：搜索以 ！结尾的，"),n("code",[s._v("grep -n '!$' file")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v(".")]),s._v("：一定有一个任意字符")]),s._v(" "),n("p",[s._v("范例：搜索字符串可以是 eve、eae、eee、e e；"),n("code",[s._v("grep -n 'e.e' file")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("\\")]),s._v("：转义字符")]),s._v(" "),n("p",[s._v("范例：搜索含有单引号数据。"),n("code",[s._v("grep -n '\\’' file")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("*")]),s._v("：重复另个到无穷多个前一个字符")]),s._v(" "),n("p",[s._v("范例：找出含有 es、ess、esss 等字符串；"),n("code",[s._v("grep -n 'es*' file")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("[list]")]),s._v("：里面列出想要截取的字符合集")]),s._v(" "),n("p",[s._v("范例：找出含有 g1 或 gd 的数据；"),n("code",[s._v("grep -n 'g[1d]' file")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("[n1-n2]")]),s._v("：字符合集范围")]),s._v(" "),n("p",[s._v("范例：找出含有任意大写字母的数据；"),n("code",[s._v("grep -n '[A-Z]' file")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("[^list]")]),s._v("：不要包含该集合中的字符或该范围的字符")]),s._v(" "),n("p",[s._v("范例：找出 ooa、oog 但是不包含 oot 的数据; "),n("code",[s._v("grep -n 'oo[^t]'")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("\\{n,m\\}")]),s._v("：连续 n 到 m 个前一个字符")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("\\{n\\}")]),s._v("：连续 n 个前一个字符")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("\\{n,\\}")]),s._v("：至少 n 个以上的前一个字符；咋效果上感觉和 "),n("code",[s._v("\\{n\\}")]),s._v(" 是一样的")])])]),s._v(" "),n("p",[s._v("最后再强调，通配符和正则表达式不一样，比如在 ls 命令中找出以 a 开头的文件")]),s._v(" "),n("ul",[n("li",[s._v("通配符："),n("code",[s._v("ls -l a*")])]),s._v(" "),n("li",[s._v("正则表达式："),n("code",[s._v("ls | grep -n '^a'")]),s._v(" 或则 "),n("code",[s._v("ls | grep -n '^a.*'")])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例：以 ls -l 配合 grep 找出 /etc/ 下文件类型为链接文件属性的文件名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 符号链接文件的特点是权限前面一位是 l，根据 ls 的输出，只要找到行首为 l 的即可")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l /etc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^l'")]),s._v("\nlrwxrwxrwx.  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" Oct  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":22 favicon.png -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/share/icons/hicolor/16x16/apps/fedora-logo-icon.png\nlrwxrwxrwx.  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" Oct  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":23 grub2.cfg -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/boot/grub2/grub.cfg\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"sed-工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sed-工具"}},[s._v("#")]),s._v(" sed 工具")]),s._v(" "),n("p",[s._v("了解了一些正则基础使用后，可以来玩一玩 sed 和 awk ；作者就利用他们两个实现了一个小工具：logfile.sh 分析登录文件（第十八章会讲解）。里面绝大部分关键词的提取、统计等都是通过他们来完成的")]),s._v(" "),n("p",[s._v("sed：本身是一个管线命令，可以分析 standard input 的数据，还可以将数据进行替换、新增、截取特定行等功能")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-nefr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("动作"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("选项与参数：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("n：使用安静（silent）模式")]),s._v(" "),n("p",[s._v("在一般 sed 的用法中，所有来自 STDIN 的数据一般都会列出到屏幕上，加上 -n 之后，只有经过 sed 特殊处理的那一行（或则动作）才会被打印出来")])]),s._v(" "),n("li",[n("p",[s._v("e：直接在指令模式上进行 sed 的动作编辑")])]),s._v(" "),n("li",[n("p",[s._v("f：直接将 sed 的动作写在一个文件内，- f filename 则可以执行 filename 内的 sed 动作")])]),s._v(" "),n("li",[n("p",[s._v("r：sed 的动作支持是延伸类型正则表达式的语法（预设是基础正则表达式语法）")])]),s._v(" "),n("li",[n("p",[s._v("i：直接修改读取的文件内容，而不是由屏幕输出")])])]),s._v(" "),n("p",[s._v("动作说明："),n("code",[s._v("[n1[,n2]]function")])]),s._v(" "),n("p",[n("code",[s._v("n1,n2")]),s._v("：不见得会存在，一般代表「选择进行动作的行数」，比如：如果我的动作是需要再 10 到 20 行之间进行的，则「10,20[动作行为]」")]),s._v(" "),n("p",[s._v("function 有如下：")]),s._v(" "),n("ul",[n("li",[s._v("a：新增，a 后面可以接字符串，这些字符串会在新的一行出现（当前的下一行）")]),s._v(" "),n("li",[s._v("c：替换，c 后面可以接字符串，这些字符串替换 n1,n2 之间的行")]),s._v(" "),n("li",[s._v("d：删除，后面不接任何字符串")]),s._v(" "),n("li",[s._v("i：插入，i 的后面可以接字符串，而这些字符串会在新的一行出现（当前的上一行）")]),s._v(" "),n("li",[s._v("p：打印，将某个选择的数据打印。通常 p 会参与 sed -n 一起运作")]),s._v(" "),n("li",[s._v("s：替换，可以直接进行替换工作。通常这个 s 的动作可以搭配正则表达式，例如："),n("code",[s._v("1,20s/old/new/g")])])]),s._v(" "),n("h3",{attrs:{id:"以行为单位的新增-删除功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#以行为单位的新增-删除功能"}},[s._v("#")]),s._v(" 以行为单位的新增/删除功能")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例1：将 /etc/passwd 的内容列出并且打印行号，同时将第 2~5 行删除")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,5d'")]),s._v("   \t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意写法和结果")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  root:x:0:0:root:/root:/bin/bash\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("  sync:x:5:0:sync:/sbin:/bin/sync\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 另外这里，应该带上 sed -e '2,5d' 才标准，不过不带也可以，但是需要使用单引号括起来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 实测不用单引号也可以实现")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例2：只删除第二行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2d'")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例3：删除第三行到最后一行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3,"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$d")]),s._v("'")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  root:x:0:0:root:/root:/bin/bash\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  bin:x:1:1:bin:/bin:/sbin/nologin\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例4：在第二行后（也就是加载第三行）加上「drink tea？」字样")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2a drink tea?'")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  root:x:0:0:root:/root:/bin/bash\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  bin:x:1:1:bin:/bin:/sbin/nologin\ndrink tea?\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  daemon:x:2:2:daemon:/sbin:/sbin/nologin\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例5：在第二行后面加入两行字")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意：不要一开始就写好所有的单引号，因为需要使用 \\ + 回车触发换行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2a drink tea \\\n> drink beer?'")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  root:x:0:0:root:/root:/bin/bash\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  bin:x:1:1:bin:/bin:/sbin/nologin\ndrink tea \ndrink beer?\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("h3",{attrs:{id:"以行为单位的取代显示功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#以行为单位的取代显示功能"}},[s._v("#")]),s._v(" 以行为单位的取代显示功能")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例1：将第 2-5 行的内容替换为 no 2-5 nuber")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,5c no 2-5 number'")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  root:x:0:0:root:/root:/bin/bash\nno "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("-5 number\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例2：取出第 11-20 行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过之前的知识来达成需要这样写")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("  games:x:12:100:games:/usr/games:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("  ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("  nobody:x:99:99:Nobody:/:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("  systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("  dbus:x:81:81:System message bus:/:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  polkitd:x:999:998:User "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" polkitd:/:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("  colord:x:998:997:User "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" colord:/var/lib/colord:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("  libstoragemgmt:x:997:995:daemon account "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" libstoragemgmt:/var/run/lsm:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("  rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/sbin/nologin\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("  saslauth:x:996:76:Saslauthd user:/run/saslauthd:/sbin/nologin\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意需要使用 -n 只输出 sed 处理过的数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nl")]),s._v(" /etc/passwd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'11,20p'")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h3",{attrs:{id:"部分数据的搜索并替换功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部分数据的搜索并替换功能"}},[s._v("#")]),s._v(" 部分数据的搜索并替换功能")]),s._v(" "),n("p",[s._v("除了整行的处理模式外，还可以用行为单位进行部分数据的搜索并替换的功能，基本上 sed 的搜索与替换与 vi 类似")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/要被替换的字符串/新的字符串/g'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例1：先观察原始信息，利用 /sbin/ifconfig 查询 IP")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ /sbin/ifconfig \nenp0s3: "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("flags")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("416")]),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("UP,BROADCAST,RUNNING,MULTICAST"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  mtu "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n        inet "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.128  netmask "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.255\n        inet6 fe80::deb9:3a1b:fd0f:f6c2  prefixlen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("  scopeid 0x2"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v("<")]),s._v("link"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        ether 08:00:27:a0:49:8f  txqueuelen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        RX packets "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2436261")]),s._v("  bytes "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("219827411")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("209.6")]),s._v(" MiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        RX errors "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  dropped "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  overruns "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  frame "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        TX packets "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2011081")]),s._v("  bytes "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("319310584")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("304.5")]),s._v(" MiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 还未讲解到 IP,这里先关注第二行的 IP")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 利用关键词配合 grep 截取出关键的一行数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ /sbin/ifconfig enp0s3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'inet '")]),s._v("\n        inet "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.128  netmask "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.255\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 ip 前面的信息删除，也就是 inet ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ /sbin/ifconfig enp0s3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'inet '")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/inet //g'")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.128  netmask "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.255\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需要使用通配符，不然会留下前面的空白符号：任意字符开头另个或多个")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ /sbin/ifconfig enp0s3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'inet '")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^.*inet //g'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.128  netmask "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.255\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再删除后续部分，只剩下 192.168.0.128")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意这里需要使用：空格任意个，来匹配前面多个空格")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ /sbin/ifconfig enp0s3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'inet '")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^.*inet //g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/ *netmask.*$//g'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.128\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("p",[s._v("上面例子建议一步一步的来做，下面继续研究 sed 与正则表示法配合练习")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例2：只要 MAN 存在的那几行数据，但是含有 # 在内的批注和空白行不要")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤1：先使用 grep 将关键词 MAN 所在行取出来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/man_db.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MAN'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MANDATORY_MANPATH                     manpath_element")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MANPATH_MAP           path_element    manpath_element")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MANDB_MAP             global_manpath  [relative_catpath]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# every automatically generated MANPATH includes these fields")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MANDATORY_MANPATH                      /usr/src/pvm3/man")]),s._v("\nMANDATORY_MANPATH                       /usr/man\nMANDATORY_MANPATH                       /usr/share/man\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".省略"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤2：删除掉批注数据行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/man_db.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MAN'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^#.*$//g'")]),s._v("\n\n\n\n\n\nMANDATORY_MANPATH                       /usr/man\nMANDATORY_MANPATH                       /usr/share/man\nMANDATORY_MANPATH                       /usr/local/share/man\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤3：删除空白行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意这里使用了动作里面的 d 命令，前面是正则匹配？")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/man_db.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MAN'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^#.*$//g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^$/d'")]),s._v("\nMANDATORY_MANPATH                       /usr/man\nMANDATORY_MANPATH                       /usr/share/man\nMANDATORY_MANPATH                       /usr/local/share/man\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("h3",{attrs:{id:"直接修改文件内容（危险动作）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#直接修改文件内容（危险动作）"}},[s._v("#")]),s._v(" 直接修改文件内容（危险动作）")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例1：利用 sed 将 /tmp/regular_express.txt 内每一行结尾若为 . 则换成 ！")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面还是使用了动作 s 替换，后面的是转义 . 和 !")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样可以直接修改文件内容")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/\\./\\!/g'")]),s._v(" regular_express.txt \n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例2：利用 sed 直接在 /tmp/regular_express.txt 最后一行加入 # This is a test")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $ 表示最后一行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v(" # This is a test '")]),s._v(" regular_express.txt \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 想要删除最后一行就简单了")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$d")]),s._v("'")]),s._v(" regular_express.txt \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);