(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{493:function(s,t,a){s.exports=a.p+"assets/img/image-20200311222948063.2ff02581.png"},640:function(s,t,a){"use strict";a.r(t);var n=a(16),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"进程管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程管理"}},[s._v("#")]),s._v(" 进程管理")]),s._v(" "),n("p",[s._v("为什么进程管理这么重要？是因为：")]),s._v(" "),n("ul",[n("li",[s._v("我们在操作系统时的各项工作都是经过某个 PID 来达成的（包括你的 bash 环境），因此，能不能进行某项工作，与该进程的权限有关")]),s._v(" "),n("li",[s._v("如果你的 LInux 是个很忙碌的系统，当整个系统资源要被使用光的时候，你是否能够找出最耗资源的哪个进程，然后删除该进程，让系统恢复正常？")]),s._v(" "),n("li",[s._v("由于某个程序写的不好，导致产生一个有问题的进程在内存中，如何找出它，将它移除呢？")]),s._v(" "),n("li",[s._v("如果有 5、6 项工作在系统中运行，但其中有一项工作才是最重要的，该如何让那一项重要的工作被最优先执行？")])]),s._v(" "),n("p",[s._v("以上几点，在系统使用中都是很重要且常见的问题")]),s._v(" "),n("h2",{attrs:{id:"进程的观察"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程的观察"}},[s._v("#")]),s._v(" 进程的观察")]),s._v(" "),n("h3",{attrs:{id:"ps：将某个时间点的进程运行情况截取下来"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ps：将某个时间点的进程运行情况截取下来"}},[s._v("#")]),s._v(" ps：将某个时间点的进程运行情况截取下来")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 观察系统所有的进程数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -l \t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 观察与当前终端机相关的进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -lA \t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 观察系统所有的进程数据（显示内容项同 ps -l 的项一样，只不过是系统所有进程）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" axjf\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连同部分进程树状态")]),s._v("\n\n选项与参数：\n\t-A：所有的 process 都显示出来，与 -e 具有同样的效果\n\t-a：不与 terminal 有关的所有 process\n\t-u：有效使用者（effective user）相关的 process\n\tx：通常与 a 一起使用，可列出完整信息\n输出格式规划：\n\tl：较长、较详细的将该 PID 的信息列出\n\tj：工作的格式（jobs format）\n\t-f：做一个更为完整的输出\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("ps 指令的 man page 不太好查阅，不同的 Unix 都使用 ps 来查阅进程状态，为了符合不同版本的需求，该 man page 写的非常庞大，因此建议你有两个选择：")]),s._v(" "),n("ol",[n("li",[s._v("只能查询自己 bash 进程的 "),n("code",[s._v("ps -l")])]),s._v(" "),n("li",[s._v("可以查询所有系统运行的进程 "),n("code",[s._v("ps aux")])])]),s._v(" "),n("h3",{attrs:{id:"仅查看自己的-bash-相关进程：ps-l"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#仅查看自己的-bash-相关进程：ps-l"}},[s._v("#")]),s._v(" 仅查看自己的 bash 相关进程："),n("code",[s._v("ps -l")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1： 将目前属于您自己这次登录的 PID 与相关信息列出来（只与自己的 bash 有关）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29260")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28796")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57972")]),s._v(" do_wai pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29473")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29260")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29090")]),s._v(" do_wai pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30444")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29473")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12407")]),s._v(" -      pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前面三项，最初是用了普通账户登录的，使用了 su - 切换到了一个 bash")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("这里列出的只是与你操作环境 bash 有关的进程，没有延伸到 systemd（后续交代）：")]),s._v(" "),n("ul",[n("li",[s._v("F：进程旗标（process flags），说明这个进程的总结权限，常见的号码有：\n"),n("ul",[n("li",[s._v("4：表示此进程的权限为 root")]),s._v(" "),n("li",[s._v("1：则表示此子进程仅进行 "),n("strong",[s._v("复制（fork）而没有实际执行（exec）")])])])]),s._v(" "),n("li",[s._v("S：进程状态（STAT），主要状态有：\n"),n("ul",[n("li",[s._v("R（Running）：正在运行中")]),s._v(" "),n("li",[s._v("S（Sleep）：该程序目前正在睡眠状态（idle），但可以被唤醒（signal）")]),s._v(" "),n("li",[s._v("D：不可被唤醒的睡眠状态，通常该程序可能在等待 I/O 的情况")]),s._v(" "),n("li",[s._v("T：停止状态（stop），可能是在工作控制（背景暂停）或除错（traced）状态")]),s._v(" "),n("li",[s._v("Z（Zombie）：僵尸状态，进程已终止但却无法被移除至内存外")])])]),s._v(" "),n("li",[s._v("UUID/PID/PPID：代表此进程被该 UID 所拥有、进程的 PID 、此进程的父进程 PID")]),s._v(" "),n("li",[s._v("C：代表 CPU 使用率，单位为百分比")]),s._v(" "),n("li",[s._v("PRI/NI：Priority/Nice 的缩写，代表此进程被 CPU 所执行的优先级，数值越小表示该进程越快被 CPU 执行。详细的 PRI 与 NI 将在下一小节讲解")]),s._v(" "),n("li",[s._v("ADDR/SZ/WCHAN：都与内存有关\n"),n("ul",[n("li",[s._v("ADDR：kernel function，该进程在内存的哪个部分，如果是 running 的进程，一般会显示 "),n("code",[s._v("-")])]),s._v(" "),n("li",[s._v("SZ：该进程用掉多少内存")]),s._v(" "),n("li",[s._v("WCHAN 该进程是否运行中，若为 "),n("code",[s._v("-")]),s._v(" 表示正在运行中")])])]),s._v(" "),n("li",[s._v("TTY：登陆者的终端机位置，若为远程登录则使用动态终端接口（pts/n）")]),s._v(" "),n("li",[s._v("TIME：使用掉的 CPU 时间。注意：是此进程实际花费 CPU 运行的时间")]),s._v(" "),n("li",[s._v("CMD：command 的缩写，此进程的触发程序指令")])]),s._v(" "),n("p",[s._v("如上列出的信息表示， bash 的程序属于 UID 为 0 的使用者，状态是睡眠（sleep），他睡眠是因为他触发了 ps（状态为 R，run）的原因，ps 的 PID=30444，优先执行顺序为 80，下达 bash 所取得的终端机接口为 pts/0，运行状态为 do_wai")]),s._v(" "),n("h3",{attrs:{id:"观察系统所有进程：ps-aux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#观察系统所有进程：ps-aux"}},[s._v("#")]),s._v(" 观察系统所有进程：ps aux")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("128372")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6988")]),s._v(" ?        Ss   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":14   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01 /usr/lib/systemd/systemd --switched-root --system --deseriali\nroot         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?        S    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":14   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kthreadd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?        S"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":14   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kworker/0:0H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nroot     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27082")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51752")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1716")]),s._v(" pts/2    R+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":41   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("会发现 "),n("code",[s._v("ps -l")]),s._v(" 与 "),n("code",[s._v("ps aux")]),s._v(" 显示的项目也不一样")]),s._v(" "),n("ul",[n("li",[s._v("USER：该 process 属于哪个使用者账户")]),s._v(" "),n("li",[s._v("PID：进程标识符")]),s._v(" "),n("li",[n("code",[s._v("%CPU")]),s._v("：该进程使用掉的 CPU 资源百分比")]),s._v(" "),n("li",[n("code",[s._v("%MEM")]),s._v("：占用的虚拟内存（KBytes）")]),s._v(" "),n("li",[s._v("RSS：占用的固定内存（KBytes）")]),s._v(" "),n("li",[s._v("TTY：在哪个终端机上面运行？\n"),n("ul",[n("li",[n("code",[s._v("?")]),s._v("：与终端机无关")]),s._v(" "),n("li",[n("code",[s._v("tty1-tty6")]),s._v("：本机上登录的")]),s._v(" "),n("li",[n("code",[s._v("pts/0")]),s._v("等：是由网络连接进入的进程")])])]),s._v(" "),n("li",[s._v("STAT：目前的状态，与 "),n("code",[s._v("ps -l")]),s._v(" 中的状态相同含义")]),s._v(" "),n("li",[s._v("START：该进程被触发启动时间（如果太久不会显示具体时间）")]),s._v(" "),n("li",[s._v("TIME：该进程实际使用 CPU 运行的时间")]),s._v(" "),n("li",[s._v("COMMAND：进程执行的指令")])]),s._v(" "),n("p",[s._v("一般来说，ps aux 会按照 PID 的顺序来排序显示。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 3：以范例 1 的显示内容，显示出所有的进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25710")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57972")]),s._v(" do_wai pts/2    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25917")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25710")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29090")]),s._v(" do_wai pts/2    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32189")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25917")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12407")]),s._v(" -      pts/2    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -lA")]),s._v("\nF S   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32093")]),s._v(" ep_pol ?        00:00:01 systemd\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" kthrea ?        00:00:00 kthreadd\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" -20 -     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" worker ?        00:00:00 kworker/0:0H\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" smpboo ?        00:00:00 ksoftirqd/0\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -40   - -     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" smpboo ?        00:00:00 migration/0\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rcu_gp ?        00:00:00 rcu_bh\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" R     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -      ?        00:00:01 rcu_sched\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 会发现，与 ps -l 显示类似，不过显示的是系统的所有进程")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 4：列出类似进程树的进程显示")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps axjf")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("   PID  PGID   SID TTY      TPGID STAT   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   TIME COMMAND\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?           -1 S        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kthreadd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?           -1 S"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kworker/0:0H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?           -1 S        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ksoftirqd/0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1269")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1269")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1269")]),s._v(" ?           -1 Ss       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/sshd -D\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1269")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1922")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1922")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1922")]),s._v(" ?           -1 Ss       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ sshd: mrcode "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("priv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1922")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1922")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1922")]),s._v(" ?           -1 S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":09  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ sshd: mrcode@pts/0,pts/1\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1934")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1934")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1934")]),s._v(" pts/0     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1934")]),s._v(" Ss+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ -bash\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1939")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1939")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1939")]),s._v(" ?           -1 Ss    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ /usr/libexec/openssh/sftp-server\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1941")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1941")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1941")]),s._v(" pts/1     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2573")]),s._v(" Ss    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ -bash\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1941")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2573")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2573")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1941")]),s._v(" pts/1     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2573")]),s._v(" S+    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":04  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7742")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7742")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7742")]),s._v(" ?           -1 Ss    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -c "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"en_US.UTF-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANGUAGE")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v('"en_US.\n '),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7742")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7789")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7742")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7742")]),s._v(" ?           -1 S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1269")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1926")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1926")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1926")]),s._v(" ?           -1 Ss       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ sshd: mrcode "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("priv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1926")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1950")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1926")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1926")]),s._v(" ?           -1 S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":09      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ sshd: mrcode@pts/2,pts/3\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1950")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v(" pts/2     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7790")]),s._v(" Ss    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ -bash\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25710")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25710")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v(" pts/2     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7790")]),s._v(" S        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" -\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25710")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25917")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25917")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v(" pts/2     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7790")]),s._v(" S        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ -bash\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25917")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7790")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7790")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1956")]),s._v(" pts/2     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7790")]),s._v(" R+       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" axjf\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1950")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2009")]),s._v(" ?           -1 Ss    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ /usr/libexec/openssh/sftp-server\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1950")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2012")]),s._v(" pts/3     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2574")]),s._v(" Ss    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("_ -bash\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])]),n("p",[s._v("看上面 PPID 为  1269 的那一行开始，我这里使用了 ssh 远程链接，用的是 mrcode 账户，登录成功后，获得了一个 bash 环境，后面我使用了 "),n("code",[s._v("su -")]),s._v(" 指令切换到了 root 的 bash 环境，然后执行了刚刚的 ps axjf 指令。这样就比较清楚了。")]),s._v(" "),n("p",[s._v("还可以通过  pstree 指令来显示进程树，不过貌似没有这么详细")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 5：找出与 cron 和 rsyslog 这两个服务有关的 PID 号码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | egrep '(cron|rsyslog)'")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1273")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("215672")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3652")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":15   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/rsyslogd -n\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1285")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("126288")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1696")]),s._v(" ?        Ss   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":15   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/crond -n\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4838")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9096")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("932")]),s._v(" pts/2    R+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":58   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E --color"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cron"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("rsyslog"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对于上面为什么要使用 egrep，在第 11 章，延伸正则表示法中有介绍。")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"僵尸进程-zombie"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#僵尸进程-zombie"}},[s._v("#")]),s._v(" 僵尸进程 zombie")]),s._v(" "),n("p",[s._v("僵尸 zombie：该进程以及执行完毕或则是因故应该要终止了，但是该进程的父进程却无法完整的将该进程结束掉，而造成哪个进程一直在内存中。")]),s._v(" "),n("p",[s._v("在进程中它的标识是在 CMD 后面有 "),n("code",[s._v("<defunct>")]),s._v(" 标识,例如下面这样")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("apache "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8683")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("83383")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9992")]),s._v(" ？Z "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":33 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("defunct"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("当系统不稳定时，容易造成僵尸进程，可能是因为程序有问题，或则是使用者的操作习惯不良等。")]),s._v(" "),n("p",[s._v("发现有僵尸进程时，应该找出来，分析原因，否则有可能一直产生僵尸进程")]),s._v(" "),n("p",[s._v("事实上，通常僵尸进程都已经无法管控，而直接交给 systemd 程序来负责了，偏偏 systemd 是系统第一个执行的程序，它是所有程序的父程序，无法杀掉该程序（杀掉它，系统就死了），所以，经过一段时间后，系统无法通过核心非经常性的特殊处理来将该进程删除时，那只有重启机器了")]),s._v(" "),n("h3",{attrs:{id:"top：动态观察进程的变化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#top：动态观察进程的变化"}},[s._v("#")]),s._v(" top：动态观察进程的变化")]),s._v(" "),n("p",[s._v("ps 可以显示一个时间点的进程状态，而 top 则可以持续的侦测进程运行状态")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-d 数字"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-bnp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n选项与参数：\n\t-d：后面可以接秒数，整个进程画面更新的秒数，预设是 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" 秒更新一次\n\t-b：以批次的方式执行 top，还有更多的参数可以使用（莫名其妙啊，啥参数？），通常会搭配数据流重导向来将批次的结果输出为文件\n\t-n：与 -b 搭配，需要进行几次 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" 的输出\n\t-p：指定某些 PID 来进行观察\n\n在 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" 执行过程中可以使用的按键指令：\n\t？：显示在 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" 中可以输入的按键指令\n\tP：以 CPU 的使用资源排序显示\n\tM：以 Memory 的使用资源排序显示\n\tN：以 PID 排序\n\tT：由该进程使用 CPU 时间累积（TIME+）排序\n\tk：给予某个 PID 一个信号（signal）\n\tr：给予某个 PID 重新制定一个 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nice")]),s._v(" 值\n\tq：离开 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" 软件的按键\n\tE：切换单位显示，比如从 KB 切换为 G 显示\n\tc：切换 COMMAND 的信息，name/完成指令\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("top 的功能太多，可用的按键也很多，可以参考 man top 的内部文件说明，上面只是列出常用的选项")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：每两秒更新一次 top，观察整体信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# top -d 2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":20:11 up  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":05,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" users,  load average: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.52")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.53")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.52")]),s._v("\nTasks: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("186")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" running, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("184")]),s._v(" sleeping,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.7")]),s._v(" us,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.7")]),s._v(" sy,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("82.1")]),s._v(" id,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" si,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nKiB Mem "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1190952")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("428928")]),s._v(" free,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("402624")]),s._v(" used,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("359400")]),s._v(" buff/cache\nKiB Swap:  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1048572")]),s._v(" total,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1048572")]),s._v(" free,        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used.   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("632160")]),s._v(" avail Mem\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <<< 如果按下 k 或 r 时，有相关的提示在这里出现")]),s._v("\n  PID "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                                                    \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1699")]),s._v(" gdm       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2947388")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("136736")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("61224")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.5")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":04.00 gnome-shell                                                \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v(" mrcode    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161324")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3016")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1296")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":17.28 sshd                                                       \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1950")]),s._v(" mrcode    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161324")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3028")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1296")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":17.41 sshd                                                       \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2573")]),s._v(" mrcode    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("162820")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3068")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1576")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":07.43 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("                                                        \n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("128372")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6988")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4196")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":01.67 systemd\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("top 的信息基本上分为两个区域，上面 6 行，和下面的列表")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("第一行信息：top -")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("目前开机时间：22:20:11 这个")])]),s._v(" "),n("li",[n("p",[s._v("开机到目前为止所经过的时间：up 1:05 这个")])]),s._v(" "),n("li",[n("p",[s._v("已经登录系统的用户人数：4 users")])]),s._v(" "),n("li",[n("p",[s._v("系统在 1、5、15 分钟的平均工作负载")]),s._v(" "),n("p",[s._v("在第 15 章谈到过 batch 工作方式负载小于 0.8 就是这里显示的值了。")]),s._v(" "),n("p",[s._v("表示的是，系统平均要负责运行几个进程，这里是三个值，也就是对应平均 1/5/15 分钟")]),s._v(" "),n("p",[s._v("越小达标系统越空闲，若高于 1 ，那么你的系统进程执行太频繁了")])])])]),s._v(" "),n("li",[n("p",[s._v("第二行：tasks")]),s._v(" "),n("p",[s._v("显示的是目前进程的总量与各个状态（running、sleeping、stopped、zombie）的进程数量")]),s._v(" "),n("p",[s._v("如果发现有 zombie 进程的话，就需要找下是哪个进程变成了僵尸进程了")])]),s._v(" "),n("li",[n("p",[s._v("第三行："),n("code",[s._v("$Cpus")])]),s._v(" "),n("p",[s._v("CPU 整体负载，每个项目可使用 ？ 查询。")]),s._v(" "),n("p",[s._v("需要特别注意的是  wa 项，表示 I/O wait，通常系统变慢，都是 I/O 产生的问题比较大，需要特别注意该项占用的 CPU 资源，如果是多核 CPU，可以按下数字键「1」来切换成不同 CPU")])]),s._v(" "),n("li",[n("p",[s._v("第四行和第五行")]),s._v(" "),n("p",[s._v("目前的物理内存与虚拟内存（Mem/Swap）的使用情况。要注意的是 swap 的使用量要尽量的少，如果 swap 被大量使用，表示系统的物理内存不足")])]),s._v(" "),n("li",[n("p",[s._v("第六行：当在 top 程序中输入指令时，显示状态的地方")])])]),s._v(" "),n("p",[s._v("下面的列表部分大部分都见过了，下面再列出含义：")]),s._v(" "),n("ul",[n("li",[s._v("PID：进程 ID")]),s._v(" "),n("li",[s._v("USER：进程所属使用者")]),s._v(" "),n("li",[s._v("PR（priority）：进程优先执行顺序，越小越早被执行")]),s._v(" "),n("li",[s._v("NI（nice）：与 PR 有关，越小越早被执行")]),s._v(" "),n("li",[n("code",[s._v("%CPU")]),s._v("：CPU 使用率")]),s._v(" "),n("li",[n("code",[s._v("%MEM")]),s._v("：内存使用率")]),s._v(" "),n("li",[n("code",[s._v("TIME+")]),s._v(" ：CPU 使用时间的累加")])]),s._v(" "),n("p",[s._v("top 预设使用 CPU 使用率 "),n("code",[s._v("%CPU")]),s._v("作为排序的重点，如果想要使用内存使用率排序，可以按下 M 键，要离开按下 q   键")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 2：将 top 的信息进行 2 次，然后将结果输出到 /tmp/top.txt")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# top -b -n 2 > /tmp/top.txt")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的结果就是，写入了执行 2 次的结果信息。是追加写入的")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("由于只有一屏显示，所以当你要观察的进程没有排序到最前面的时候，还可以单独观察该线程")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 3：我们自己的 bash PID 可以由 $$ 变量取得，使用 top 持续观察该 PID")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# top -d 2 -p $$")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":53:55 up  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":39,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" users,  load average: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.59")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.28")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.32")]),s._v("\nTasks:   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" running,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" sleeping,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),s._v(" us,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.6")]),s._v(" sy,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("92.8")]),s._v(" id,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" si,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nKiB Mem "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1190952")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("435612")]),s._v(" free,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("392456")]),s._v(" used,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("362884")]),s._v(" buff/cache\nKiB Swap:  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1048572")]),s._v(" total,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1048572")]),s._v(" free,        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used.   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("642448")]),s._v(" avail Mem \n\n  PID "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                                                    \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v(" root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("116472")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3172")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1780")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.04 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("就只显示着一个程序给你看了，还可以修改 NI 值")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 4：上题的 NI 指是 0，把它修改成 10")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在上题的 top 画面中按下 r 键出现下面的提示")]),s._v("\nPID to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("renice")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("default pid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5501")]),s._v(" \t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入要修改的 PID")]),s._v("\nRenice PID "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v(" to value "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入要修改的 nice 值")]),s._v("\n PID "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v(" root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("116472")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3172")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1780")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.04 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" \n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 会发现 NI 值已经修改了")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("如果想要找出最耗 CPU 资源的进程时，大多使用 top 指令，然后以 CPU 使用资源来排序（-p）")]),s._v(" "),n("h3",{attrs:{id:"pstree"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pstree"}},[s._v("#")]),s._v(" pstree")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("pstree "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-AIU"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-up"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n选项与参数：\n\t-A：各进程之间的连接以  ASCII 字符来连接\n\t-U：各进程之间的连接以万国码的字符来连接。在某些终端机接口下可能会有错误\n\t-p：并同时列出每个 process 的 PID\n\t-u：并同时列出每个 process 的所属账户名称\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：列出目前系统上所有的进程树的相关性")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pstree -A")]),s._v("\nsystemd-+-ModemManager---2*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ModemManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ModenManager 与其子进程")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-NetworkManager---2*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NetworkManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-2*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("abrt-watch-log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-abrtd\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-accounts-daemon---2*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("accounts-daemon"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-sshd---sshd---sshd-+-bash---su---bash---pstree\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我们指令执行的相依性")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-bash---top\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-bash\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                    "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("-sftp-server\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看下这个相依性，差不多就是登陆之后，在 su 切换账户之后，执行的")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 2：同时显示出 PID 与 users")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pstree -Aup")]),s._v("\nsystemd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("-+-ModemManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("871")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("-+-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ModemManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("881")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                   "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ModemManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("891")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-NetworkManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("935")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("-+-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NetworkManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("941")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                     "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("NetworkManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("945")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-abrt-watch-log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("856")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-sshd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1269")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("---sshd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7771")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("---sshd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7779")]),s._v(",mrcode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("-+-bash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3239")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("---sleep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3263")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                             "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-bash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7780")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("---su"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8985")]),s._v(",root"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("---bash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("---pstree"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3264")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                             "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-bash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7835")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("---top"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8102")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                                             "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("-sftp-server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7833")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以看到 sshd 登录的 PID 是 7779 ，用 mrcode 账户登录的。后续用 su 切换到了 root，这个时候新开了一个进程 7780 的 bash")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("用 pstree 来找相关性，同时使用 "),n("code",[s._v("-A")]),s._v(" 来让连线不断开。默认的 Unicode 连线有可能出现断线，整体画面显示错位的问题")]),s._v(" "),n("p",[s._v("由 pstree 的输出我们可以知道，所有的进程都是依附在 systemd 程序下面的，systemd 的进程 ID 是 1 号，是 LInux 核心主动运行的第一个程序")]),s._v(" "),n("p",[s._v("之前讲解遇到僵尸进程为啥要重启，因为 systemd 要重启，那么就相当于重启系统了")]),s._v(" "),n("h2",{attrs:{id:"进程的管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程的管理"}},[s._v("#")]),s._v(" 进程的管理")]),s._v(" "),n("p",[s._v("进程相互管理是通过一个信号（signal）去告知该进程你要它做什么。信号可以通过 "),n("code",[s._v("man 7 signal")]),s._v(" 查阅，主要信号代号与名称含义如下：")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("代号")]),s._v(" "),n("th",[s._v("名称")]),s._v(" "),n("th",[s._v("含义")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("1")]),s._v(" "),n("td",[s._v("SIGHUP")]),s._v(" "),n("td",[s._v("启动被终止的进程，可让该 PID 重新读取自己的配置文件，类似重新启动")])]),s._v(" "),n("tr",[n("td",[s._v("2")]),s._v(" "),n("td",[s._v("SIGINT")]),s._v(" "),n("td",[s._v("相当于用键盘输入  ctrl + c 来终端一个进程的运行")])]),s._v(" "),n("tr",[n("td",[s._v("9")]),s._v(" "),n("td",[s._v("SIGKILL")]),s._v(" "),n("td",[s._v("强制终端一个进程的运行，如果该进程进行到一半，那么尚未完成的部分可能会有半成品产生，类似 vim 会有 .filename.swp 保留下来")])]),s._v(" "),n("tr",[n("td",[s._v("15")]),s._v(" "),n("td",[s._v("SIGTERM")]),s._v(" "),n("td",[s._v("以正常的结束进程来终止该进程。由于是正常的终止，所以后续的动作会将他完成。不过，如果该进程已经发生问题，就无法使用正常的方法终止时，输入该 signal 也是没有用的")])]),s._v(" "),n("tr",[n("td",[s._v("19")]),s._v(" "),n("td",[s._v("SIGSTOP")]),s._v(" "),n("td",[s._v("相当于用键盘输入 ctrl-z 来暂停一个进行的运行")])])])]),s._v(" "),n("p",[s._v("可以使用 kill 或 killall 把信号传递给进程")]),s._v(" "),n("h3",{attrs:{id:"kill-signal-pid"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#kill-signal-pid"}},[s._v("#")]),s._v(" kill -signal PID")]),s._v(" "),n("p",[s._v("kill 可以将信号传递给某个工作（%jobnumber） 或某个 PID")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：以 ps 找出 rsyslogd 这个进程 PID 后，再使用 kill 传递信号，让它可以重新读取配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 'rsyslogd'")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1273")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("215672")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3728")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":15   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/rsyslogd -n\nroot     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18876")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9096")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("928")]),s._v(" pts/0    RN+  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":30   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" --color"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto rsyslogd\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 'rsyslogd' | grep -v 'grep'")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1273")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("215672")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3728")]),s._v(" ?        Ssl  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":15   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/rsyslogd -n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 'rsyslogd' | grep -v 'grep' | awk '{print $2}'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1273")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最终的指令是如下的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill -SIGHUP $(ps aux | grep 'rsyslogd' | grep -v 'grep' | awk '{print $2}') ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否重启无法看通过看进程来知道，可以看日志")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tail -5 /var/log/messages")]),s._v("\nMar  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":20:01 study systemd: Removed slice User Slice of root.\nMar  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":30:01 study systemd: Created slice User Slice of root.\nMar  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":30:01 study systemd: Started Session "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" of user root.\nMar  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":30:01 study systemd: Removed slice User Slice of root.\nMar  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":35:20 study rsyslogd: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("origin "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("software")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rsyslogd"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("swVersion")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8.24.0-38.el7"')]),s._v(" x-pid"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1273"')]),s._v(" x-info"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://www.rsyslog.com"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rsyslogd was HUPed\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看上面，rsyslogd was HUPed 的字样，表示有重新启动")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("还记得可以查询到登录的 bash 的进程吗？也可以使用 kill -9 来删除，就意味着，该登陆者被踢下线了")]),s._v(" "),n("h3",{attrs:{id:"killall-signal-指令名称"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#killall-signal-指令名称"}},[s._v("#")]),s._v(" killall -signal 指令名称")]),s._v(" "),n("p",[s._v("由于 kill 后面必须要加上 PID （或是 job number），所以通常需要配合 ps、pstree 等指令，还可以使用另外一种方法来达到效果")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("killall")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-iIe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n选项与参数：\n\t-i：interactive ，交互式的，若需要删除时，会出现提示字符给用户确认\n\t-e：exact，后面接的 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" name 要一致，但整个完整的指令不能超过 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" 个字符\n\t-I：指令名称（可能含参数）忽略大小写\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：给予 rsyslogd 指令启动的 PID 一个 SIGHUP 的信号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# killall -1 rsyslogd")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里 -1  是信号")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 2：强制终止所有以 httpd 启动的进程（其实当前没有该进程启动）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# killall -9 httpd         ")]),s._v("\nhttpd: no process found\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 3：依次询问每个 bash 程序是否需要被终止")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# killall -i -9 bash")]),s._v("\nSignal bash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7780")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ? "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y/N"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" n\nSignal bash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7835")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ? "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y/N"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" n\nSignal bash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ? "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y/N"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" n\nbash: no process found\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里都选择了 n，所以提示没有进程被找到，按下 y 就杀掉了")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"关于进程的执行熟悉怒"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关于进程的执行熟悉怒"}},[s._v("#")]),s._v(" 关于进程的执行熟悉怒")]),s._v(" "),n("p",[s._v("CPU 是切换着执行进程，那么谁先执行？这个就要看进程的优先级 priority 与 CPU 排程（每个进程被 CPU 运行的演算规则）")]),s._v(" "),n("h3",{attrs:{id:"priority-与-nice-值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#priority-与-nice-值"}},[s._v("#")]),s._v(" Priority 与 Nice 值")]),s._v(" "),n("p",[s._v("CPU 一秒钟可以运行达 G 的微指令次数，通过核心的 CPU 排程可以让各进程被 CPU 切换运行，因此每个进程在一秒钟内活多或少都会被 CPU 执行部分的脚步。")]),s._v(" "),n("p",[s._v("如果进程不分优先级顺序的话，那么就是排队执行，如果中间有个进程执行时间很长，其他进程就要等待很长时间")]),s._v(" "),n("p",[n("img",{attrs:{src:a(493),alt:"image-20200311222948063"}})]),s._v(" "),n("p",[s._v("如上图，有了优先级之后，高优先级的可用被执行两次，低优先级则执行 1 次，但是上图仅是示意图，并非高优先级的就会执行两次，Linux 给予进程一个优先执行序（priority PRI），PRI 值越低优先级越高，不过该值是由核心动态调整的，用户无法直接调整 PRI 值")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7183")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12406")]),s._v(" -      pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8985")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7780")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57972")]),s._v(" do_wai pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8985")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29118")]),s._v(" do_wai pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("由于 PRI 是动态调整的，用户无法干涉，但是可以通过 Nice 值来达到一定的优先级调整，Nice 就是上述中的 NI 值，一般来说 PRI 与 NI 的相关性 "),n("code",[s._v("PRI(new)=PRI(old)+nice")]),s._v("，虽然可以调整 nice 的值，由于 PRI 是动态调整的，所以不包装调整完之后，最终的 PRI 就会变低，优先级变高的")]),s._v(" "),n("p",[s._v("此外，必须要注意，nice 值范围")]),s._v(" "),n("ul",[n("li",[s._v("nice 值范围是 -20~19")]),s._v(" "),n("li",[s._v("root 可随意调整自己或他人进程的 Nice 值，且范围为 -20~19")]),s._v(" "),n("li",[s._v("一般使用者仅可调整自己进程的 Nice 值，且范围仅为  0~19（避免一般用户抢占系统资源）")]),s._v(" "),n("li",[s._v("一般使用者仅可将 nice 值越调越高；比如 nice 为 5，则未来仅能调整到大于 5；")])]),s._v(" "),n("p",[s._v("那么调整 nice 值有两种方式：")]),s._v(" "),n("ul",[n("li",[s._v("一开始执行程序就立即给予一个特定的 nice  值：用 nice 指令")]),s._v(" "),n("li",[s._v("调整某个已经存在的 PID 的 nice 值：用 renice 指令")])]),s._v(" "),n("h3",{attrs:{id:"nice：新执行的指令给予新的-nice-值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nice：新执行的指令给予新的-nice-值"}},[s._v("#")]),s._v(" nice：新执行的指令给予新的 nice 值")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nice")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-n 数字"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n\n-n：后面接一个数值，数值范围 -20~19\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1： 用 root 给一个 nice 值为 -5，用于执行 vim，并观察该进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nice -n -5 vim &")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30185")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8985")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7780")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57972")]),s._v(" do_wai pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8985")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29118")]),s._v(" do_wai pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" T     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30185")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10791")]),s._v(" do_sig pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30652")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9051")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12407")]),s._v(" -      pts/0    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 原本的 bash PRI 为 90，所以 vim 预设为 90，这里给予 nice -5，所以最终 PRI 变成了 85")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 要注意：不一定正好变成 85，因为会动态调整的")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("那么通常什么时候需要将 nice 值调大呢？比如：系统的背景工作中，某些比较不重要的进程进行时，比如备份工作，由于备份工作相当耗系统资源，这个时候就可以将备份的指令 nice 值调大一些，可以使系统的资源分配更公平")]),s._v(" "),n("h3",{attrs:{id:"renice：已存在进程的-nice-重新调整"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#renice：已存在进程的-nice-重新调整"}},[s._v("#")]),s._v(" renice：已存在进程的 nice 重新调整")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("renice")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" PID\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：找出自己的 bash PID ,并将该 PID 的 nice 调整到 -5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3426")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3372")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("58072")]),s._v(" do_wai pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3443")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3426")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29059")]),s._v(" do_wai pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3487")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3443")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12407")]),s._v(" -      pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# renice -5 3443")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3443")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process ID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" old priority "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", new priority -5\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -l")]),s._v("\nF S   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("   PID  "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3426")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3372")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("58072")]),s._v(" do_wai pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3443")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3426")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v("  -5 - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29059")]),s._v(" do_wai pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3493")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3443")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v("  -5 - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12407")]),s._v(" -      pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"系统资源的观察"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统资源的观察"}},[s._v("#")]),s._v(" 系统资源的观察")]),s._v(" "),n("p",[s._v("top 可以看到很多系统的资源使用情况，还有其他工具")]),s._v(" "),n("h3",{attrs:{id:"free：观察内存使用情况"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#free：观察内存使用情况"}},[s._v("#")]),s._v(" free：观察内存使用情况")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-b"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-k"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-m"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-g"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-h"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-s N -c N"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n选项与参数：\n\t-b：单位参数；默认是用 k，其他单位对应 bytes、Mbytes、Kbytes、Gbytes\n\t-t: 输出的最终结果，显示物理内存与 swap 的总量\n\t-s：可以让系统每几秒输出一次，不间断输出；\n\t-c：与 -s 同时处理，让 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" 列出几次\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：显示目前系统的内存容量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -m")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#\t\t\t  总内存\t\t已使用\t\t   剩余\t\t\t\t\t\t\t  可用")]),s._v("\n              total        used        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7631")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("713")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6374")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("542")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6671")]),s._v("\nSwap:          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4095")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4095")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("code",[s._v("shared buff/cache")]),s._v("  是缓冲区等使用量，"),n("code",[s._v("available")]),s._v(" 是可用容量，当系统忙碌时，可以被释放掉，给系统使用")]),s._v(" "),n("p",[s._v("由于系统会把空闲内存拿来做缓冲区之用，所以你系统没有那么繁忙的时候，也会显示内存被用的多的原因，这个是正常的，需要注意的是 swap，swap 最好不要被使用，而且不要使用超过 20% 以上，因为 swap 被使用，那么很有可能是物理内存不够用了")]),s._v(" "),n("h3",{attrs:{id:"uname：查询系统与核心相关信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uname：查询系统与核心相关信息"}},[s._v("#")]),s._v(" uname：查询系统与核心相关信息")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-asrmpi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n选项与参数：\n\t-a：所有系统相关的，都列出来\n\t-s：系统核心名称\n\t-r：核心的版本\n\t-m：本系统的硬件名称，例如 i686 或 x86_64\n\t-p：CPU 的类型，与 -m 类似\n\t-i：硬件的平台（ix86）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：输出系统的基本信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uname -a ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 核心名称   主机名\t\t\t核心版本\t\t\t  核心建立日期 与 硬件平台")]),s._v("\nLinux study.centos.mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-1062.el7.x86_64 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1 SMP Wed Aug 7 18:08:02 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"uptime：观察系统启动时间与工作负载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uptime：观察系统启动时间与工作负载"}},[s._v("#")]),s._v(" uptime：观察系统启动时间与工作负载")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uptime ")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":31:46 up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v(" min,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" users,  load average: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.05")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前时间\t 已开机多久  几个用户登录\t平均负载：1、5、15 分钟的平均负载")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"netstat：追踪网络或插槽文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netstat：追踪网络或插槽文件"}},[s._v("#")]),s._v(" netstat：追踪网络或插槽文件")]),s._v(" "),n("p",[s._v("该指令常被用在网络的监控方面；netstat 基本上的输出分为两大部分：网络与系统自己的进程相关性部分")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("atunlp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n选项与参数：\n\t-a：将目前系统上所有的联机、监听、Socket 数据都列出来\n\t-t：列出 tcp 网络封包的数据\n\t-u：列出 udp 网络封包的数据\n\t-n：不以进程的服务名称，以端口号来显示\n\t-l：列出目前正在网络监听的（listen）的服务\n\t-p：列出该网络服务的进程 PID\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：列出目前系统上已经建立的网络连接与 unix socket 状态")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat ")]),s._v("\nActive Internet connections "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("w/o servers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与网络相关部分")]),s._v("\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v(" study.centos.mrcode:ssh "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".4.170:50821     ESTABLISHED\nActive UNIX domain sockets "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("w/o servers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与本机的进程自己的相关性（非网络）")]),s._v("\nProto RefCnt Flags       Type       State         I-Node   Path\nunix  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         DGRAM                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12644")]),s._v("    /run/systemd/shutdownd\nunix  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         DGRAM                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7618")]),s._v("     /run/systemd/notify\nunix  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         DGRAM                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7620")]),s._v("     /run/systemd/cgroups-agent\nunix  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         DGRAM                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7634")]),s._v("     /run/systemd/journal/socket\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("网络联机部分：")]),s._v(" "),n("ul",[n("li",[s._v("Proto：网络封包协议，主要分为 TCP 与 UDP。")]),s._v(" "),n("li",[s._v("Recv-Q：非由用户程序连接到此 socket 的复制和总 Bytes 数")]),s._v(" "),n("li",[s._v("Send-Q：非由远程主机传送过来的 acknowledged 总 Bytes 数")]),s._v(" "),n("li",[s._v("Local Address：本地端的 Ip:port")]),s._v(" "),n("li",[s._v("Foreign Address：远程主机的 IP:port")]),s._v(" "),n("li",[s._v("State：联机状态，主要有建立（ESTABLISED）、监听（LISTEN）")])]),s._v(" "),n("p",[s._v("上面有一条数据，含义是：192.168.4.170:50821 通过 TCP 封包联机到本机端的 study.centos.mrcode:ssh，状态是 ESTABLISHED；至于更多的知识点这里不深入，在服务器篇讲解")]),s._v(" "),n("p",[s._v("除了网络上的联机之外，Linux 系统上的进程是可以接收不同进程所发来的信息，通过 socket file 可以在两个进程之间通信。比如 X Window 这种需要通过网络连接的软件，新版 distribution 以 socket 来进行窗口接口的联机沟通。上表中 socket file 的输出字段含义为：")]),s._v(" "),n("ul",[n("li",[s._v("Proto：一般是 unix")]),s._v(" "),n("li",[s._v("RefCnt：连接到此 socket 的进程数量")]),s._v(" "),n("li",[s._v("Flags：联机旗标")]),s._v(" "),n("li",[s._v("Type：socket 存取的类型。主要有 STREAM：确认联机、DGRAM：不需确认 两种")]),s._v(" "),n("li",[s._v("State：若为 CONNECTED 表示多个进程之间已经联机建立")]),s._v(" "),n("li",[s._v("PATH：连接到此 socket 的相关程序路径，或则是相关数据输出的路径")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 2：找出目前系统上已在监听的网络联机与 PID")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -tulnp")]),s._v("\nActive Internet connections "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("only servers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:631           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1380")]),s._v("/cupsd          \ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:25            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1579")]),s._v("/master         \ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:6010          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3765")]),s._v("/sshd: mrcode@p \ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:111             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/systemd           \ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".122.1:53        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1973")]),s._v("/dnsmasq        \ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:22              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1379")]),s._v("/sshd           \ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:631                 :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1380")]),s._v("/cupsd          \ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:25                  :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1579")]),s._v("/master         \ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:6010                :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3765")]),s._v("/sshd: mrcode@p \ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::111                  :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/systemd           \ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::22                   :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1379")]),s._v("/sshd           \nudp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".122.1:53        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1973")]),s._v("/dnsmasq        \nudp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:67              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1973")]),s._v("/dnsmasq        \nudp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:111             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/systemd           \nudp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:323           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("938")]),s._v("/chronyd         \nudp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:41378           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("953")]),s._v("/avahi-daemon: r \nudp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:672             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("927")]),s._v("/rpcbind         \nudp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:5353            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("953")]),s._v("/avahi-daemon: r \nudp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::111                  :::*                                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/systemd           \nudp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:323                 :::*                                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("938")]),s._v("/chronyd         \nudp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::672                  :::*                                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("927")]),s._v("/rpcbind\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最后一个字段是 PID 与进程的指令名称")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 3：将上述的 0 0.0.0.0:41378 网络服务关闭")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill -9 953")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# killall -9 avahi-daemon")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("对于非正常的关闭服务方法就用暴力的 kill -9，正常的关闭方式，下个章节讲解")]),s._v(" "),n("h3",{attrs:{id:"dmesg：分析核心产生的信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dmesg：分析核心产生的信息"}},[s._v("#")]),s._v(" dmesg：分析核心产生的信息")]),s._v(" "),n("p",[s._v("系统在开机的时候，核心会去侦测系统的硬件，那么硬件的检测信息由于开机过程中要么一闪而过，要么没有显示在屏幕上，可以使用 dmesg 来查看")]),s._v(" "),n("p",[s._v("从系统开机起，核心产生的信息都会记录到内存中，通过 dmesg 可以查询到，信息过多时可以通过 more 指令查看")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：输出所有的核心开机时的信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dmesg | more")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Initializing cgroup subsys cpuset\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Initializing cgroup subsys cpu\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Initializing cgroup subsys cpuacct\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Linux version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-1062.el7.x86_64 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mockbuild@kbuilder.bsys.centos.org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gcc version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.8")]),s._v(".5 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20150623")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Red Hat \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.8")]),s._v(".5-36"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GCC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1 SMP Wed Aug 7 18:08:02 UTC 2019")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Command line: "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BOOT_IMAGE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/vmlinuz-3.10.0-1062.el7.x86_64 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("root")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/mapper/centos-root ro "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("crashkernel")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto spect\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("re_v2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("retpoline rd.lvm.lv"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("centos/root rd.lvm.lv"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("centos/swap rhgb quiet "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.UTF-8\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" e820: BIOS-provided physical RAM map:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" BIOS-e820: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mem 0x0000000000000000-0x000000000009fbff"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" usable\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" BIOS-e820: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mem 0x000000000009fc00-0x000000000009ffff"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" reserved\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" BIOS-e820: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mem 0x00000000000f0000-0x00000000000fffff"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" reserved\n--More--\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 2：找到硬盘相关信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dmesg | grep -i 'sda'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.632630")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sd "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":0:0:0: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sda"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("85491712")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v("-byte logical blocks: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43.7")]),s._v(" GB/40.7 GiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.632651")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sd "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":0:0:0: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sda"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Write Protect is off\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.632653")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sd "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":0:0:0: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sda"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Mode Sense: 00 3a 00 00\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.632662")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sd "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":0:0:0: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sda"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Write cache: enabled, "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" cache: enabled, doesn't support DPO or FUA\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.643988")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  sda: sda1 sda2 sda3 sda4 sda5 sda6 sda7 sda8\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.644394")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sd "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":0:0:0: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sda"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Attached SCSI disk\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.616881")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" XFS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sda2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Mounting V5 Filesystem\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.636376")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" XFS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sda2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Ending clean "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("h3",{attrs:{id:"vmstat：侦测系统资源变化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vmstat：侦测系统资源变化"}},[s._v("#")]),s._v(" vmstat：侦测系统资源变化")]),s._v(" "),n("p",[s._v("vmstat 可以侦测 CPU、内存、磁盘输入输出状态等信息。比如可以了解一台繁忙的系统到底是哪个环节最耗时间，可以使用 vmstat 分析看看，常见选项与参数如下：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("延迟 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("总计侦测次数"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CPU/内存等信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t\t\t\t\t\t\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内存相关")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-S 单位"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t\t\t\t\t\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置显示数据的单位")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t\t\t\t\t\t\t\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与磁盘有关")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-p 分区槽"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t\t\t\t\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与磁盘有关")]),s._v("\n\n选项与参数：\n\t-a：使用 inactive/active（是否活跃）取代 buffer/cache 的内存输出信息\n\t-f：开机到目前为止，系统复制（fork）的进程数\n\t-s：将一些事件（开机到目前为止）导致的内存变化情况列表说明\n\t-S：后面可以接单位，例如 k、M 等\n\t-d：列出磁盘的读写总量统计表\n\t-p：后面列出分区槽，可显示该分区槽的读写总量统计表\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 1：统计目前主机 CPU 状态，每秒一次，总共 3 次")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vmstat 1 3")]),s._v("\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("   buff  cache   si   so    bi    bo   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("   cs us sy "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" wa st\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("450296")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2116")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("346828")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("181")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("320")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("450156")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2116")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("346860")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("163")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("223")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("450156")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2116")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("346860")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("273")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("388")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("还可以不限制次数，就一直统计字段说明如下：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("procs：进程")]),s._v(" "),n("ul",[n("li",[s._v("r：等待运行中的进程数量")]),s._v(" "),n("li",[s._v("b：不可被唤醒的进程数量")])]),s._v(" "),n("p",[s._v("rb 越多表示系统越繁忙。因为系统太忙，导致很多进程无法被执行或一直在等待而无法被唤醒")])]),s._v(" "),n("li",[n("p",[s._v("memory：内存")]),s._v(" "),n("ul",[n("li",[s._v("swpd：虚拟内存被使用的容量")]),s._v(" "),n("li",[s._v("free：未被使用的内容容量")]),s._v(" "),n("li",[s._v("buff：用于缓冲存储器")]),s._v(" "),n("li",[s._v("cache：用于高速缓存")])]),s._v(" "),n("p",[s._v("这里的含义与 free 指令一致")])]),s._v(" "),n("li",[n("p",[s._v("swap：内存交换空间")]),s._v(" "),n("ul",[n("li",[s._v("si：由磁盘中将进程取出的量")]),s._v(" "),n("li",[s._v("so：由于内存不足而将没用到的进程写入到磁盘的 swap 的容量")])]),s._v(" "),n("p",[s._v("如果 si、so 的数值太大，表示内存的数据常常得在磁盘与主存储器之间传来传去，效率很低")])]),s._v(" "),n("li",[n("p",[s._v("io：磁盘读写")]),s._v(" "),n("ul",[n("li",[s._v("bi：由磁盘读入的区块数量")]),s._v(" "),n("li",[s._v("bo：写入到磁盘去的区块数量")])]),s._v(" "),n("p",[s._v("如果这部分数值越高，代表系统的 I/O 非常忙碌")])]),s._v(" "),n("li",[n("p",[s._v("system：系统")]),s._v(" "),n("ul",[n("li",[s._v("in：每秒被中断的进程次数")]),s._v(" "),n("li",[s._v("cs：每秒钟进行的事件切换次数")])]),s._v(" "),n("p",[s._v("这两个值越大，代表系统与接口设备的沟通非常频繁，接口设备包括磁盘、网卡、时钟等")])]),s._v(" "),n("li",[n("p",[s._v("CPU：")]),s._v(" "),n("ul",[n("li",[s._v("us：非核心层的 CPU 使用状态")]),s._v(" "),n("li",[s._v("sy：核心层所使用的 CPU 状态")]),s._v(" "),n("li",[s._v("id：闲置的状态")]),s._v(" "),n("li",[s._v("wa：等待 I/O 所耗费的 CPU 状态")]),s._v(" "),n("li",[s._v("st：被虚拟机（virtual machine）所盗用的 CPU 使用状态（2.6.11）")])])])]),s._v(" "),n("p",[s._v("练习机上看不到忙碌的数据，如果有一天，你的系统非常忙碌，可以使用该指令来分析是哪里出现了问题")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 2：系统上面所有的磁盘读写状态")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vmstat -d")]),s._v("\ndisk- ------------reads------------ ------------writes----------- -----IO------\n       total merged sectors      ms  total merged sectors      ms    cur    sec\nsda     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7640")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("709893")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6377")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2486")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("351")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("54323")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8478")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\nsdb      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("116")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5384")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nsr0        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndm-0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7072")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("661717")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6054")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2611")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("45902")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10871")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\ndm-1      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4408")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndm-2     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10834")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4325")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("至于上面的字段含义，可以通过 man vmstat 查阅")])])}),[],!1,null,null,null);t.default=e.exports}}]);