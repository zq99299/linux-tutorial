(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{559:function(s,t,a){"use strict";a.r(t);var n=a(16),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"文件与目录管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件与目录管理"}},[s._v("#")]),s._v(" 文件与目录管理")]),s._v(" "),a("h2",{attrs:{id:"文件与木的检视-ls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件与木的检视-ls"}},[s._v("#")]),s._v(" 文件与木的检视 ls")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-aAdfFhilnrRSt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 文件名或目录名称Â\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--color"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("never,auto,always"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 文件名或目录名称\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--full-time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 文件名或目录名称\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("选项与参数：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("a")]),s._v("：全部的文件，连同隐藏文件（开头为 .）一起列出来（常用）")])]),s._v(" "),a("li",[a("p",[s._v("A：全部的文件，连同隐藏文件（不包括 . 和 .. 这两个目录)")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("d")]),s._v("：仅列出目录本身，而不是列出目录内的文件数据（常用）")])]),s._v(" "),a("li",[a("p",[s._v("f：直接列出结果，而不进行排序（ls 默认以文档名排序）")])]),s._v(" "),a("li",[a("p",[s._v("F：根据文件、目录等信息，给予附加数据结构")]),s._v(" "),a("p",[s._v("如：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("*")]),s._v(" 代表可执行文件，")]),s._v(" "),a("li",[a("code",[s._v("/")]),s._v(" 代表目录")]),s._v(" "),a("li",[a("code",[s._v("=")]),s._v(" 代表 socket 文件")]),s._v(" "),a("li",[a("code",[s._v("|")]),s._v(" 代表 FIFO 文件")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如这样，会在文件名后面显示符号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -F\n下载/  公共/  图片/  文档/  桌面/  模板/  视频/  音乐/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("h：将文件容量以人类较易读的方式（例如 GB、KB）列出来")])]),s._v(" "),a("li",[a("p",[s._v("i：列出 inode 号码，inode 的意义后续讲解")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("l")]),s._v("：长数据串输出，包含文件的属性与权限等数据（常用）")])]),s._v(" "),a("li",[a("p",[s._v("n：列出 UID 与 GID 而非使用者与群组的名称（UID 与 GID 会在账户管理中讲解）")])]),s._v(" "),a("li",[a("p",[s._v("r：将排序结果反向输出，例如原本文件名由小到大，反向则由大到小")])]),s._v(" "),a("li",[a("p",[s._v("R：连同子目录内容一起列出来，等于该目录下的所有文件都会显示出来")])]),s._v(" "),a("li",[a("p",[s._v("S：按文件容量大小排序")])]),s._v(" "),a("li",[a("p",[s._v("t：按时间排序")])]),s._v(" "),a("li",[a("p",[s._v("color 颜色配置")]),s._v(" "),a("ul",[a("li",[s._v("never：不要依据文件特性给予颜色显示")]),s._v(" "),a("li",[s._v("always：显示颜色")]),s._v(" "),a("li",[s._v("auto：让系统自行依据设置来判断是否给予颜色")])])]),s._v(" "),a("li",[a("p",[s._v("full-time：以完整时间模式）包含年月日时分输出")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("time={atime，ctime}")]),s._v("：输出 access 时间或改变权限属性时间（ctime），而非内容变更时间")])])]),s._v(" "),a("p",[s._v("在 linux 中 ls 指令可能是 最常用的，由于文件所记录的信息实在是太多了，\n所以默认显示的只有：非隐藏文档、以文件名进行排序、文件名代表的颜色显示")]),s._v(" "),a("p",[s._v("实践练习")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将家目录下的所有问价列出来，包含属性与隐藏文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al ~\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\ndrwx------. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":15 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 深蓝色")]),s._v("\ndrwxr-xr-x.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root   root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 深蓝色")]),s._v("\n-rw-------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2927")]),s._v(" Oct "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" 05:16 .bash_history\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" Aug  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06 .bash_logout\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("193")]),s._v(" Aug  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06 .bash_profile\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("231")]),s._v(" Aug  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06 .bashrc\ndrwx------. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":33 .cache "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 深蓝色")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 接上题，不显示颜色，但在文件名末尾显示该文件名代表的类型")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 实际的终端中看，颜色就没显示了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -alF --color"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("never ~\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\ndrwx------. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":15 ./\ndrwxr-xr-x.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root   root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n-rw-------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2927")]),s._v(" Oct "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" 05:16 .bash_history\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" Aug  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06 .bash_logout\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("193")]),s._v(" Aug  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06 .bash_profile\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("231")]),s._v(" Aug  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06 .bashrc\ndrwx------. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Oct  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":33 .cache/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示完整的修改实践（modification time）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al --full-time ~\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\ndrwx------. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-10-08 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":15:44.109000000 +0800 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndrwxr-xr-x.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root   root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-10-08 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:04.516000000 +0800 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-rw-------.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2927")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-10-11 05:16:27.662000000 +0800 .bash_history\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-08-08 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06:55.000000000 +0800 .bash_logout\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("193")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-08-08 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06:55.000000000 +0800 .bash_profile\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("231")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-08-08 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":06:55.000000000 +0800 .bashrc\ndrwx------. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-10-04 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":33:12.075000000 +0800 .cache\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("p",[s._v("可以看到 ls 支持的功能很多，这些都是因为 linux 文件系统记录了很多有用的信息的缘故，\n那么这些与权限、属性有关的数据放在 i-node 里面的。后续会深入讲解 i-node 的")]),s._v(" "),a("p",[s._v("另外，由于 ls -l 使用频率很高，为此，很多 distribution 在预设情况中已经将 ll 设定为 ls -l 的意思了。")]),s._v(" "),a("h2",{attrs:{id:"复制、删除与移动：cp、rm、mv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复制、删除与移动：cp、rm、mv"}},[s._v("#")]),s._v(" 复制、删除与移动：cp、rm、mv")]),s._v(" "),a("ul",[a("li",[s._v("cp：copy 复制文件，该指令还有其他功能，如建立连接档、比较亮文件的新旧而给予更新，复制整个目录等功能")]),s._v(" "),a("li",[s._v("mv：move 移动目录与文件，也可以直接拿来当做更名（rename）")]),s._v(" "),a("li",[s._v("rm：remove 移除文件")])]),s._v(" "),a("h3",{attrs:{id:"cp-复制文件或目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cp-复制文件或目录"}},[s._v("#")]),s._v(" cp 复制文件或目录")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-adfilprsu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 来源文件（source）目标文件（destination）\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" source1 source2 source3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" directory\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("选项与参数：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("a")]),s._v("：相当于 -dr --preserve=all 的一是一，至于 dr 请参考下列说明；（常用）")]),s._v(" "),a("li",[s._v("d：若来源文件为链接文件的属性（link file），则复制链接文件属性而非文件本身")]),s._v(" "),a("li",[s._v("f：强制（force）的意思，若目标文件已经存在且无法开启，则移除后再尝试一次")]),s._v(" "),a("li",[a("strong",[s._v("i")]),s._v("：若目标文件已经存在时，在覆盖时会先询问动作的进行。（常用）")]),s._v(" "),a("li",[s._v("l：进行硬式链接（hard link）的链接档的建立，而非复制文件本身")]),s._v(" "),a("li",[a("strong",[s._v("p")]),s._v("：连同文件的属性（权限、用户、时间）一起复制过去，而非使用默认属性；（备份文件常用）")]),s._v(" "),a("li",[a("strong",[s._v("r")]),s._v("：递归持续复制，用于目录的复制行为。（常用）")]),s._v(" "),a("li",[s._v("s：复制称为符号链接文件（symbolic link）")]),s._v(" "),a("li",[s._v("u：destination 与 source 旧才更新 destination，或 destination 不存在的情况下才复制")])]),s._v(" "),a("p",[a("code",[s._v("--preserve=all")]),s._v("：除了 -p 的权限相关参数外，还加入 SELinux 的属性，links、xattr 等也复制")]),s._v(" "),a("p",[s._v("最后需要注意的是：如果来源档有两个以上，则最后一个目的文件一定要是目录才行")]),s._v(" "),a("p",[s._v("而且不同身份者执行这个指令会有不同的结果产生，尤其是 -a、-p 的选项，对于不同身份来说，\n差异则非常的大。")]),s._v(" "),a("p",[s._v("实践练习")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 root 身份，将家目录下的 .bashrc 复制到 /tmp 下，并更名为 bashrc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp ~/.bashrc /tmp/bashrc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加上 -i 属性，由于上面已经复制过一次了，所以 bashrc 文件已经存在")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp -i ~/.bashrc /tmp/bashrc")]),s._v("\ncp：是否覆盖"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/bashrc"')]),s._v("？ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# n 不覆盖，y 覆盖")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 变换目录到 /tmp ,并将 /var/log/wtmp 复制到 /tmp 且观察属性")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /tmp/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp /var/log/wtmp .")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls 可以列出多个文档名，这里列出了两个，刚好可以对比他们的属性")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l /var/log/wtmp wtmp")]),s._v("\n-rw-rw-r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root utmp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44160")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":38 /var/log/wtmp\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44160")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":42 wtmp\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以看到上面不加任何选项，被复制之后的某些属性或权限已经被改变了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这是个很重要的特性，要注意，文件建立的时间也不一样")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面将所有的属性权限都一起复制过来")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp -a /var/log/wtmp wtmp2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l /var/log/wtmp wtmp2")]),s._v("\n-rw-rw-r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root utmp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44160")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":38 /var/log/wtmp\n-rw-rw-r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root utmp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44160")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":38 wtmp2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("上面示例中，不加任何选项会使用预设的配置，比如常常会复制别人的数据（当然需要有 read 权限），\n总是希望复制到的数据最后是我们自己的，所以上面示例才有由 utmp 变更为 root")]),s._v(" "),a("p",[s._v("由于具有这个特性，因此在进行备份的时候，需要特别注意的特殊权限文件，例如密码文件（/etc/shadow)\n以及一些配置文件，就不能直接以 cp 来复制，需要将全部的属性都原样复制过来")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制 etc 目录下的所有内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp /etc/ /tmp/")]),s._v("\ncp: 略过目录"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/etc/"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提示该目录不能直接复制，要加上 -r")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp -r /etc/ /tmp/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次强调，-r 只是能递归复制，但是文件权限等属性还是会更改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 因此可以使用 cp -a /etc/ /tmp/ 来复制，尤其是在备份的情况下")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"创建符号链接与实体链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建符号链接与实体链接"}},[s._v("#")]),s._v(" 创建符号链接与实体链接")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将之前复制过来的 bashrc 建立一个链接档")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pwd")]),s._v("\n/tmp\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先查看该文件的属性")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l bashrc")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":38 bashrc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分别建立 符号链接 和硬式链接")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp -s bashrc bashrc_link")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp -l bashrc bashrc_hlink")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l bashrc*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意看这里的数值，源文件是 1 这里变成了 2")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":38 bashrc\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":38 bashrc_hlink\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面这条数据，在终端中，bashrc_link 会显示浅蓝色")]),s._v("\nlrwxrwxrwx. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":55 bashrc_link -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" bashrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("使用 -l 及 -s 都会建立连接档（link file），那么有什么不同呢?")]),s._v(" "),a("ul",[a("li",[s._v("bashrc_link：使用 s 创建出来的，是符号链接（symbolic link），简单说是一个快捷方式，会链接到 bashrc 中去。有一个 -> 的符号")]),s._v(" "),a("li",[s._v("bashrc_hlink：使用 l 创建出来的，是实体链接（hard link）")])]),s._v(" "),a("p",[s._v("实体链接与源文件的属性与权限一模一样，与尚未链接前的差异是 第二栏 的 link 由 1 变成了 2.\n由于实体链接与 i-node 有关，这里先不深入了。后续文件系统部分再深入讲解")]),s._v(" "),a("h4",{attrs:{id:"备份常见下的复制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#备份常见下的复制"}},[s._v("#")]),s._v(" 备份常见下的复制")]),s._v(" "),a("p",[s._v("当源文件比目标新的时候才复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先查看两个文件的时间，可以看到源文件是 2013 年，比目标文件旧")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l ~/.bashrc /tmp/bashrc")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v(" /root/.bashrc\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":38 /tmp/bashrc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里使用 -u 复制后，没有任何提示")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp -u ~/.bashrc /tmp/bashrc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次查看，发现没有复制成功，当前时间是 16:14 了，如果成功，目标文件的时间也会变更")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l ~/.bashrc /tmp/bashrc")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v(" /root/.bashrc\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":38 /tmp/bashrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:"连接文档的复制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接文档的复制"}},[s._v("#")]),s._v(" 连接文档的复制")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该文件是一个符号链接文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l bashrc_link")]),s._v("\nlrwxrwxrwx. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":55 bashrc_link -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" bashrc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里使用不加参数复制和加参数复制")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp bashrc_link bashrc_link_1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp -d bashrc_link bashrc_link_2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -l bashrc bashrc_link*")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":38 bashrc\nlrwxrwxrwx. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":55 bashrc_link -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" bashrc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以看到，不加参数复制把源文件复制过来了")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":16 bashrc_link_1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 -d 参数，只复制了链接文件本身")]),s._v("\nlrwxrwxrwx. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":16 bashrc_link_2 -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" bashrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"多个文件同时复制到通一个目录下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多个文件同时复制到通一个目录下"}},[s._v("#")]),s._v(" 多个文件同时复制到通一个目录下")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ~/.bashrc ~/.bash_history /tmp/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"身份不同执行-cp-指令表现不同"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#身份不同执行-cp-指令表现不同"}},[s._v("#")]),s._v(" 身份不同执行 cp 指令表现不同")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 mrcode 身份, -a 把文件原原本本的复制过来")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -a /var/log/wtmp /tmp/mrcode_wtmp\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l /var/log/wtmp /tmp/mrcode_wtmp\n-rw-rw-r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44160")]),s._v(" Oct "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":38 /tmp/mrcode_wtmp\n-rw-rw-r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root   utmp   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44160")]),s._v(" Oct "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":38 /var/log/wtmp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("胡发现其他的都一样，但是拥有者和组没有复制过来，这是因为 mrcode 身份无法进行的动作")]),s._v(" "),a("h4",{attrs:{id:"小节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小节"}},[s._v("#")]),s._v(" 小节")]),s._v(" "),a("p",[s._v("由于 cp 有种种的文件属性与权限的特性，所以在复制时，比必须要清楚的了解到")]),s._v(" "),a("ul",[a("li",[s._v("是否需要完整的保留来源文件的信息？")]),s._v(" "),a("li",[s._v("来源文件是否为连接档（symbolic link file）？")]),s._v(" "),a("li",[s._v("来源档是否为特殊的文件，例如 FIFO、socket 等")]),s._v(" "),a("li",[s._v("来源文件是否为目录？")])]),s._v(" "),a("h3",{attrs:{id:"rm-语出文件或目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rm-语出文件或目录"}},[s._v("#")]),s._v(" rm 语出文件或目录")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-fir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 文件或目录\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("f：force 强制的意思，忽略不存在的文件，不会出现警告信息")]),s._v(" "),a("li",[s._v("i：互动模式，在闪出去会询问使用者是否操作")]),s._v(" "),a("li",[s._v("r：递归删除")])]),s._v(" "),a("p",[s._v("实践练习")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 互动模式删除")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /tmp/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rm -i bashrc")]),s._v("\nrm：是否删除普通文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bashrc"')]),s._v("？y\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除的文件名还可以使用通配符， * 表示 0 个或多个")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rm -i bashrc*")]),s._v("\nrm：是否删除普通文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bashrc_hlink"')]),s._v("？y\nrm：是否删除符号链接 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bashrc_link"')]),s._v("？y\nrm：是否删除普通文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bashrc_link_1"')]),s._v("？y\nrm：是否删除符号链接 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bashrc_link_2"')]),s._v("？y\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除一个目录， rmdir 无法删除非空目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rmdir /tmp/etc/")]),s._v("\nrmdir: 删除 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/etc/"')]),s._v(" 失败: 目录非空\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里使用 r 参数递归删除")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rm -r /tmp/etc/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是出现了交互模式，是因为 root 身份预设加入了参数 -i")]),s._v("\nrm：是否进入目录"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/etc/"')]),s._v("? y\nrm：是否删除普通文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/etc/fstab"')]),s._v("？y\nrm：是否删除普通空文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/etc/crypttab"')]),s._v("？y\nrm：是否删除符号链接 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/etc/mtab"')]),s._v("？y\nrm：是否删除普通文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/etc/resolv.conf"')]),s._v("？y\nrm：是否进入目录"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/tmp/etc/fonts"')]),s._v("? ^C\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在指令前添加反斜杠，可以忽略掉 alias 的指定选项，至于 alias 后续再 bash 章节详讲")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("rm -r /tmp/etc/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除一个带有 - 开头的文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先使用 touch 建立一个空文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ./-aaa\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意：在 /tmp 下文件太多，常见好的文件就在最前面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看到文件大小是 0 ，这是一个空文件")]),s._v("\n-rw-r--r--.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root   root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":05 -aaa-\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除刚才创建的，肯定不会成功的，之前讲解过 - 是个特殊字符，表示选项")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rm -aaa-")]),s._v("\nrm：无效选项 -- a\nTry "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rm ./-aaa-'")]),s._v(" to remove the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-aaa-"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是这里给出了建议，添加双引号删除")]),s._v("\nTry "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rm --help'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" information.\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# rm "./-aaa-"')]),s._v("\nrm：是否删除普通空文件 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./-aaa-"')]),s._v("？y\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br")])]),a("p",[s._v("由于 root 的是天神，所以大部分 distribution 都默认添加了 -i 的选项，删除前请三思啊")]),s._v(" "),a("h3",{attrs:{id:"mv-移动文件与目录或更名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mv-移动文件与目录或更名"}},[s._v("#")]),s._v(" mv 移动文件与目录或更名")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-fiu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" destination\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" source1 source2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". directory\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("f：强制，如果目标文件已经存在，不会询问，直接覆盖")]),s._v(" "),a("li",[s._v("i：若目标文件已经存在时，就会询问是否覆盖")]),s._v(" "),a("li",[s._v("u：若目标已经存在，且 source 比较新，才会功更新该文件")])]),s._v(" "),a("p",[s._v("实践练习")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /tmp/   ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp ~/.bashrc bashrc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir mvtest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将刚刚拷贝的 bashrc 复制到目录中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mv bashrc mvtest/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 目录更名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其实还有一个指令 rename，该指令专职进行多个文档名同时更名，并非针对单一文件更名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与 mv 不同，详细请 man rename")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mv mvtest/ mvtest2")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"取得路径的文件名与目录名称，basename、dirname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取得路径的文件名与目录名称，basename、dirname"}},[s._v("#")]),s._v(" 取得路径的文件名与目录名称，basename、dirname")]),s._v(" "),a("p",[s._v("每个文件的完整文档名包含了前面的目录与最终的文件名，而每个文档名的长度都可达 255 个字符，\n那么怎么区分哪个是文件名？哪个是目录名？可以使用斜线「/」来分辨")]),s._v(" "),a("p",[s._v("一般要获取文件名或目录名称，都是些程序的手来判断用，所以这部分指令可以用在后续的 shell scripts 里面。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/sysconfig/network 比如这个路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以使用指令分别获取到他的目录与文件名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# basename /etc/sysconfig/network")]),s._v("\nnetwork\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dirname /etc/sysconfig/network")]),s._v("\n/etc/sysconfig\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);