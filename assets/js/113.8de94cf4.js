(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{619:function(s,a,t){"use strict";t.r(a);var n=t(16),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux-主机上的用户信息传递"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-主机上的用户信息传递"}},[s._v("#")]),s._v(" Linux 主机上的用户信息传递")]),s._v(" "),t("p",[s._v("如何针对系统上的用户进行查询？如果在 Linux 上操作时，有其他用户也登录主机，如何与它谈话？想知道某个账户的相关信息，如何查阅？")]),s._v(" "),t("h2",{attrs:{id:"查询使用者：w、who、last、lastlog"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询使用者：w、who、last、lastlog"}},[s._v("#")]),s._v(" 查询使用者：w、who、last、lastlog")]),s._v(" "),t("p",[s._v("之前提到过的 id、finger 等指令可以查询一个用户的相关信息。而 last 可以知道使用者合适登录的系统，前面第 10 章节 bash 中讲解过的")]),s._v(" "),t("p",[s._v("可以通过 w 或 who 来查询当前已登录系统的用户，也就是相当于在线用户列表")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# w")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前时间、开机(up)多久、几个用户在线")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":20:50 up  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":37,  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" users,  load average: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.18")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.14")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.17")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个表格说明，每一行表示一个使用者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\nmrcode   pts/0    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":11    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".00s  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".19s  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".27s sshd: mrcode "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("priv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nmrcode   pts/1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":11    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":09m  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(".52s  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(".50s "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# who")]),s._v("\nmrcode   pts/0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-25 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":11 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmrcode   pts/1        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-25 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":11 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("通过 lastlog 获得每个账户的最近登录时间，lastlog 会读取 "),t("code",[s._v("/var/log/lastlog")]),s._v(" 文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lastlog")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户名           端口     来自             最后登陆时间")]),s._v("\nUsername         Port     From             Latest\nroot             pts/0                     二 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":23:43 +0800 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\nbin                                        **从未登录过**\ndaemon                                     **从未登录过**\nadm                                        **从未登录过**\nlp                                         **从未登录过**\nmrcode           pts/1    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105    二 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":11:00 +0800 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\nmrcode1          pts/0                     二 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":05:37 +0800 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h2",{attrs:{id:"使用者谈话：write、mesg、wall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用者谈话：write、mesg、wall"}},[s._v("#")]),s._v(" 使用者谈话：write、mesg、wall")]),s._v(" "),t("h3",{attrs:{id:"write-对话"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#write-对话"}},[s._v("#")]),s._v(" write 对话")]),s._v(" "),t("p",[s._v("与系统上在线用户进行谈话，通过 write 将信息传给接收者")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" 使用者账户 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("用户所在终端接口"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# who")]),s._v("\nmrcode   pts/0        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-25 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":28 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmrcode   pts/1        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-25 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":28 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nroot     pts/4        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-25 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":28 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nroot     pts/5        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-25 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":28 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.105"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 笔者使用的是 ssh 软件链接的。类似 xshell 软件，所以可能显示的不是 tty 接口把")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启了两个链接，并且使用 su 切换的账户，是通过这个 who 看不出来的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只会显示最初登录系统的账户信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 笔者这里开启了两个窗口，一个登录 mrcode 账户，一个登录 root 账户")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# write mrcode pts/0")]),s._v("\nHello,there:\nPlease dont"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t do anything wrong...\n# 在 root 窗口上，对 mrcode pts/0 的终端接口写信息\n# 上面两行是 root 传递的文字信息\n# 要结束传递的话，需要通过组合键 ctrl + d 结束\n\n\n# 在 mrcode 这边就会看到传递过来的信息了\n[mrcode@study ~]$\nMessage from root@study.centos.mrcode on pts/2 at 22:33 ...\nHello,there:\nPlease dont'")]),s._v("t "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" anything wrong"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nEOF\n\n这两个交互式这样的，当 root 敲入 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" mrcode pts/0 指令时，mrcode 这边就相当于进入了一个聊天窗口，输入一行按下回车键，信息就会显示到对方那边去。所以他们两个就可以谈话了\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("h3",{attrs:{id:"mesg-启用或关闭对话功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mesg-启用或关闭对话功能"}},[s._v("#")]),s._v(" mesg 启用或关闭对话功能")]),s._v(" "),t("p",[s._v("因为这种方式是及时聊天，如果 mrcode 此时正在查询资料，那么就会打断他原本的工作，如果 mrode 不想接受任何人的信息，可以下达该指令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ mesg n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ mesg\nis n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("不过该指令对 root 传来的信息是无效的，那么我们关闭 root 的，使用 mrcode 对 root 发送")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当然要先打开 mesg 的功能，才能对别人发送信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ mesg y\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" root pts/2\nwrite: root has messages disabled on pts/2\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发现无法对 root 发送信息")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"wall-广播信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wall-广播信息"}},[s._v("#")]),s._v(" wall 广播信息")]),s._v(" "),t("p",[s._v("还可以通过 wall 对所有在线用户广播信息")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ wall "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"I will shutdown my linux server..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$\nBroadcast message from mrcode@study.centos.mrcode "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pts/0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Tue Feb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":45:41 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n\nI will "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" my linux server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所有在线用户都能收到，包括 root，当然前提是对方 mesg y 打开时")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"使用者信箱：mail"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用者信箱：mail"}},[s._v("#")]),s._v(" 使用者信箱：mail")]),s._v(" "),t("p",[s._v("wall、write 需要用户在线才能够使用交谈，可以使用 mail 寄信给用户，每个用户都具有一个 mailbox，可以寄、收 mailbox 内的信件。一般来说 mailbox 会放置在 "),t("code",[s._v("/var/spool/mail")]),s._v(" 中，一个账号一个 mailbox 文件。比如 mrcode1 就具有 "),t("code",[s._v("/var/spool/mail/mrcode1")]),s._v(" 这个 mailbox")]),s._v(" "),t("h3",{attrs:{id:"寄信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寄信"}},[s._v("#")]),s._v(" 寄信")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mail -s "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"邮件标题"')]),s._v(" username@localhost\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# root 用户给 mrcode 寄信")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指令下达之后会进入写做模式，不过该模式下无法使用退格键，只能想好再写")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# mail -s "nice to meet you" mrcode')]),s._v("\nHello,D.m tsai\nNice to meet you "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the network.\nYou are so nice. bybye"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\t\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最后一行输入小数点，再次回车会完成寄信操作")]),s._v("\nEOT\t\t\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("会发现 mail 中的编辑器不好用，所以可以使用流来完成内容的导入")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# mail -s "nice to meet you" mrcode  < filename')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先把信息写在文件中，然后使用 < 传输")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 ：将你的家目录下的环境变量文件 ~/.bashrc 寄给自己")]),s._v("\nmail -s "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bashrc file content"')]),s._v(" mrcode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" ~/.bashrc\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 范例 ：通过管线命令将 `ls -al ~` 内容传给 root 自己")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al ~ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mail -s "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myfile"')]),s._v(" root\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"收信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#收信"}},[s._v("#")]),s._v(" 收信")]),s._v(" "),t("p",[s._v("收信也是使用 mail 指令，如上面寄给了 mrcode")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ mail\nHeirloom Mail version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("/5/10.  Type ? "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help.\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/spool/mail/mrcode"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" message "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" new\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("N  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root                  Tue Feb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":52  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("/700   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nice to meet you"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" \t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里可以输入很多指令，可以通过输入 ？ 查询")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# > ：是表示目前处理的信件是哪一封")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# N ：表示该信件还未读过")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 尝试输入 ? 会出现以下的提示")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" ?\n               mail commands\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" messages\nnext                            goto and "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" next message\nfrom "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("             give "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" lines of messages\nheaders                         print out active message headers\ndelete "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("           delete messages\nundelete "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("         undelete messages\nsave "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" folder      append messages to folder and mark as saved\ncopy "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" folder      append messages to folder without marking them\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("       append message texts to file, save attachments\npreserve "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("         keep incoming messages "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" mailbox even "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" saved\nReply "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            reply to message senders\nreply "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            reply to message senders and all recipients\nmail addresses                  mail to specific recipients\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" folder                     change to another folder\nquit                            quit and apply changes to folder\nxit                             quit and discard changes made to folder\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("                               shell escape\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("directory"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                  chdir to directory or home "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" none given\nlist                            list names of all available commands\n\nA "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("message list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" consists of integers, ranges of same, or other criteria\nseparated by spaces.  If omitted, mail uses the last message typed.\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br")])]),t("p",[s._v("上面信息中的 「message list」是表示每封邮件左边那个数据序号")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("指令")]),s._v(" "),t("th",[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("h")]),s._v(" "),t("td",[s._v("列出信件比奥拓；如查询 40 封左右的信件，则输入 "),t("code",[s._v("h 40")])])]),s._v(" "),t("tr",[t("td",[s._v("d")]),s._v(" "),t("td",[s._v("删除后续接的信件号码，删除单封是 "),t("code",[s._v("d10")]),s._v("，范围删除是 "),t("code",[s._v("d10-20")]),s._v("，该动作生效需要配合 q 指令")])]),s._v(" "),t("tr",[t("td",[s._v("s")]),s._v(" "),t("td",[s._v("将信件存储成文件。比如将第 5 封的内容存储到文件 "),t("code",[s._v("~/mail.file")]),s._v(" 可以使用 "),t("code",[s._v("s 5 ~/mail.file")])])]),s._v(" "),t("tr",[t("td",[s._v("x")]),s._v(" "),t("td",[s._v("只离开，不生效；或者输入 exit 也可以；比如刚刚用 h 删除了信件，使用 x 离开，就会撤销删除")])]),s._v(" "),t("tr",[t("td",[s._v("q")]),s._v(" "),t("td",[s._v("生效并离开；尤其是删除")])])])]),s._v(" "),t("p",[s._v("对于 h 操作来说，只有 5 封邮件的时候，使用 h 6 会报错，使用 h 2，同样会显示所有的，不知道是咋回事")])])}),[],!1,null,null,null);a.default=e.exports}}]);