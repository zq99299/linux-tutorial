(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{575:function(s,t,n){"use strict";n.r(t);var a=n(16),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"linux-系统常用的压缩指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux-系统常用的压缩指令"}},[s._v("#")]),s._v(" Linux 系统常用的压缩指令")]),s._v(" "),n("p",[s._v("在 linux 环境中，压缩文件的扩展名大多是：.tar、.tar.gz、.tgz、.Z、.bz2、.xz ，为什么会有这么多？")]),s._v(" "),n("p",[s._v("虽然在 linux 下扩展名没有啥作用，但是支持的压缩指令非常多，彼此之间无法互通压缩或解压缩，扩展名用于分别是使用哪种软件来解压缩。常用的扩展名如下：")]),s._v(" "),n("ul",[n("li",[s._v(".Z：compress 程序压缩的文件")]),s._v(" "),n("li",[s._v(".zip：zip 程序压缩的文件")]),s._v(" "),n("li",[s._v(".gz：gzip 程序压缩的文件")]),s._v(" "),n("li",[s._v(".bz2：bzip2 程序压缩的文件")]),s._v(" "),n("li",[s._v(".xz：xz 程序压缩的文件")]),s._v(" "),n("li",[s._v(".tar：tar 程序打包的数据，并没有压缩过")]),s._v(" "),n("li",[s._v(".tar.gz：tar 程序打包的数据，并经过 gzip 的压缩")]),s._v(" "),n("li",[s._v(".tar.bz2：同上，经过了 bzip2 压缩")]),s._v(" "),n("li",[s._v(".tar.xz：同上，经过了 xz 的压缩")])]),s._v(" "),n("p",[s._v("linux 上常见的压缩指令是 gzip、bzip2 以及最新的 xz，还有支持 windows 的 zip，至于其他的压缩指令基本上都淘汰了。这些指令通常仅能针对一个文件来压缩与解压缩，如此一来每次压缩与解压缩都要一大堆文件，所以 tar （打包）软件就出现了")]),s._v(" "),n("p",[s._v("tar 可以将很多文件「打包」成为一个文件，将很多文件集结为一个文件，但是没有提供压缩的功能，后来 GNU 计划中，将整个 tar 与压缩的功能结合在一起，提供了更强大的压缩与打包功能。")]),s._v(" "),n("h2",{attrs:{id:"gzip、zcat-zmore-zless-zgrep"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gzip、zcat-zmore-zless-zgrep"}},[s._v("#")]),s._v(" gzip、zcat/zmore/zless/zgrep")]),s._v(" "),n("p",[s._v("gzip 可以说是应用最广的压缩指令，目前可用解开 compress、zip 与 gzip 等软件所压缩的文件，语法如下")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-cdtv"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#] 文档名")]),s._v("\nzcat 文档名.gz\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("选项与参数：")]),s._v(" "),n("ul",[n("li",[s._v("c：将压缩的数据输出到屏幕上，可通过数据流重导向来处理")]),s._v(" "),n("li",[s._v("d：解压缩的参数")]),s._v(" "),n("li",[s._v("t：可以用来检验一个压缩文件的一致性，看看文件有无错误")]),s._v(" "),n("li",[s._v("v：可以显示出原文件、压缩文件的压缩比等信息")]),s._v(" "),n("li",[n("code",[s._v("#")]),s._v("：为数字的意思，代表压缩等级\n"),n("ul",[n("li",[s._v("-1：最快，但是压缩比最差")]),s._v(" "),n("li",[s._v("-9：最慢，但是压缩比最好")]),s._v(" "),n("li",[s._v("-6：默认值")])])])]),s._v(" "),n("p",[s._v("实践练习")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出 /etc 下（不含子目录）容量最大的文件，并将他们复制到 /tmp,然后以 gzip 压缩")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# S 排序时按文件 size，r 翻转，倒序；对于参数，笔者这里使用 man ls 查看的参数说明，记不住的时候就可以这样做")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls -ldSr /etc/* 最大的排在最后，莫非使用了 S 就是降序排列的吗？")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -ldS /etc/*\n-rw-r--r--.  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("670293")]),s._v(" Jun  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v(" /etc/services\n-rw-r--r--.  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104251")]),s._v(" Oct  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":28 /etc/ld.so.cache\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /tmp/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/services "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" -v services \nservices:        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("79.7")]),s._v("% -- replaced with services.gz\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll /etc/services /tmp/services*\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root   root   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("670293")]),s._v(" Jun  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v(" /etc/services\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("136088")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 /tmp/services.gz\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以看到压缩比为 79.7，压缩之后变成了 130 多 k")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("这里需要注意，使用 gzip 进行压缩时，默认状态下原本的文件会被压缩成 .gz 的文件，并且原始文件不存在了（文案已经提示了）；另外 gzip 压缩的文件在 windows 中可以被 WinRAR、7zip 软件解压缩")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 由于 services 是文件内容，将压缩后的文件内容读出来")]),s._v("\nzcat services.gz  \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该文件过大，直接读完，我们看不到最前面的内容了")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以使用 zmore、zless 去读取")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 services.gz 加压缩")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里使用 -d 来解压缩，还有一个 gunzip 指令也可以解压缩，但是有点难记住它")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" -d services.gz \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll -l services*\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同样，默认会将 .gz 的删除，剩下原来的文件名")]),s._v("\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("670293")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将上面解开的文件，使用最佳压缩比压缩，并保留原文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个例子就明白 -c 使用数据流重导来处理是啥意思了，压缩输出到指定文件中")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的 > 后续再 bash 章节会详细讲解")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" -9 -c services "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" services.gz\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll -l services*\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("670293")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services\n-rw-rw-r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("135489")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50 services.gz\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 还可以在 services.gz 找那个找出 http 关键词在哪里（关键词搜索）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ zgrep -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http'")]),s._v(" services.gz \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面会输出好多包含 http 的信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#       http://www.iana.org/assignments/port-numbers")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(":http            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp          www www-http    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WorldWideWeb HTTP")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[s._v("在压缩文档中搜索字符的话可以使用 zgrep、egrep 等指令")]),s._v(" "),n("h2",{attrs:{id:"bzip2、bzcat-bzmore-bzgrep"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bzip2、bzcat-bzmore-bzgrep"}},[s._v("#")]),s._v(" bzip2、bzcat/bzmore/bzgrep")]),s._v(" "),n("p",[s._v("bzip2 可以说是取代了 gzip 并提供更佳的压缩比。使用方式几乎与 gzip 相同")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-cdkzv"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#] 文档名")]),s._v("\nbzcat 文档名.bz2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("选项与参数：")]),s._v(" "),n("ul",[n("li",[s._v("c：将压缩的过程产生的数据输出到屏幕上")]),s._v(" "),n("li",[s._v("d：解压缩的参数")]),s._v(" "),n("li",[s._v("k：保留源文件")]),s._v(" "),n("li",[s._v("z：压缩的参数（默认值，可以不加）")]),s._v(" "),n("li",[s._v("v：可以显示出源文件/压缩文件的压缩比信息")]),s._v(" "),n("li",[n("code",[s._v("#")]),s._v("：与 gzip 一样，-9 最佳、-1 最快")])]),s._v(" "),n("p",[s._v("实践练习")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" -v services\n  services:  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.409")]),s._v(":1,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.479")]),s._v(" bits/byte, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("81.51")]),s._v("% saved, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("670293")]),s._v(" in, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123932")]),s._v(" out.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll -l services*\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123932")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services.bz2\n-rw-rw-r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("135489")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50 services.gz\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bz2 的压缩率比 gz 的压缩率还要好，看文件大小")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取 bz2 文件内容")]),s._v("\nbzcat services.bz2\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压,默认都是会删除掉原文件，包括压缩也是")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" -d services.bz2 \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l services*\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("670293")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services\n-rw-rw-r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("135489")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50 services.gz\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里使用 -k 参数来保留源文件，并使用最优压缩比")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 还可以使用 -c 来输出 bzip2 -9 -c services > services.gz")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" -9 -k services\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l services*\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("670293")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123932")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services.bz2\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("p",[s._v("使用方式 bzip2 与 gzip 几乎一模一样，不过压缩率好的一般都会更耗时")]),s._v(" "),n("h2",{attrs:{id:"xz、xzcat-xzmore-xzless-xzgrep"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#xz、xzcat-xzmore-xzless-xzgrep"}},[s._v("#")]),s._v(" xz、xzcat/xzmore/xzless/xzgrep")]),s._v(" "),n("p",[s._v("xz 比 bzip2 压缩比更高，用法也与 bzip2、gzip 就一模一样")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("xz "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-dtlkc"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#] 文档名")]),s._v("\nxcat 文档名.xz\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("选项与参数：")]),s._v(" "),n("ul",[n("li",[s._v("d：解压缩")]),s._v(" "),n("li",[s._v("t：测试压缩文件的完整性，看是否有错误")]),s._v(" "),n("li",[s._v("l：列出压缩文件的相关信息")]),s._v(" "),n("li",[s._v("k：保留原本的文件")]),s._v(" "),n("li",[s._v("c：将数据由屏幕上输出")]),s._v(" "),n("li",[n("code",[s._v("#")]),s._v("：同样，压缩比数值")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 压缩")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ xz -v services\nservices "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" %        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("97.3")]),s._v(" KiB / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("654.6")]),s._v(" KiB "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.149")]),s._v("                                    \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l services*\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123932")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services.bz2\n-rw-rw-r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("135489")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50 services.gz\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" mrcode mrcode  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("99608")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":39 services.xz\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看看上面的压缩，果真 xz 压缩比是最好的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出压缩文件信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ xz -l services.xz \nStrms  Blocks   Compressed Uncompressed  Ratio  Check   Filename\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("97.3")]),s._v(" KiB    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("654.6")]),s._v(" KiB  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.149")]),s._v("  CRC64   services.xz\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取压缩文件内容")]),s._v("\n xzless services.xz 、xzcat services.xz 都可以\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压缩")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ xz -d services.xz \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 -k 压缩并保留源文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ xz -k services\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以使用 time 指令统计他们的时间")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# time [gzip|bzip2|xz] -c services > services.[gz|bz2|xz]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上面的语法，下面是实际的指令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mrcode@study tmp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" -c services "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" services.gz"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" -c services "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" services.bz2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" xz -c services "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" services.xz "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nreal    0m0.023s\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看这个汇总时间")]),s._v("\nuser    0m0.021s\nsys     0m0.002s\n\nreal    0m0.043s\nuser    0m0.036s\nsys     0m0.007s\n\nreal    0m0.232s\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看这个汇总时间")]),s._v("\nuser    0m0.227s\nsys     0m0.005s\n\n一个 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".023s 一个 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".232s，相差 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 倍\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);