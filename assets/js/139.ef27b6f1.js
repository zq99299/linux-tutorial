(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{649:function(s,t,a){"use strict";a.r(t);var e=a(16),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"systemctl-针对-timer-的配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#systemctl-针对-timer-的配置文件"}},[s._v("#")]),s._v(" systemctl 针对 timer 的配置文件")]),s._v(" "),a("p",[s._v("某些时候需要定期执行某项工作，或则是开机后执行，或则是某服务启动多久后执行等等的需求。在以前可以使用 crond 来定期处理，如今有 systemd 这个长期驻留在内存中好用的服务，另外还提供了一个协力服务 timers.target ，它可以协助定期处理各种任务")]),s._v(" "),a("h2",{attrs:{id:"systemd-timer-的优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#systemd-timer-的优势"}},[s._v("#")]),s._v(" systemd.timer 的优势")]),s._v(" "),a("p",[s._v("在 archlinux 的官网 wiki 上有提到，为啥要用 systemd.timer ?")]),s._v(" "),a("ul",[a("li",[s._v("由于所有的 systemd 的服务产生的信息都会被记录（log），因此比 crond 在 debug 上要更清楚方便")]),s._v(" "),a("li",[s._v("各项 timer 的工作可以跟 systemd 的服务相结合")]),s._v(" "),a("li",[s._v("各项 timer 的工作可以跟 control group（cgroup 用来取代 /etc/secure/limit.conf 的功能）结合，来限制该工作的资源利用")]),s._v(" "),a("li",[s._v("时间安排可以精确到毫秒的单位")])]),s._v(" "),a("p",[s._v("弱点就是：没有 email 通知功能（除非自己实现 email 通知），也没有类似 anacron 一段时间内的随机取样功能（random_delay）")]),s._v(" "),a("h2",{attrs:{id:"任务需求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务需求"}},[s._v("#")]),s._v(" 任务需求")]),s._v(" "),a("p",[s._v("想要用 systemd 的 timer 功能，必须有如下条件：")]),s._v(" "),a("ul",[a("li",[s._v("系统的 timer.target 必须启动")]),s._v(" "),a("li",[s._v("要有 sname.service 的服务存在：sname 是我们自定义的名称")]),s._v(" "),a("li",[s._v("要有 sname.timer 的时间启动服务存在")])]),s._v(" "),a("p",[s._v("使用前一小节写好的  backup.service 来测试")]),s._v(" "),a("h2",{attrs:{id:"sname-timer-的设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sname-timer-的设置"}},[s._v("#")]),s._v(" sname.timer 的设置")]),s._v(" "),a("p",[a("code",[s._v("[Timer]")]),s._v(" 部分")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("OnActiveSec：当 timers.target 启动多久后才执行该 unit")])]),s._v(" "),a("li",[a("p",[s._v("OnBootSec：当开机后多久之后才执行")])]),s._v(" "),a("li",[a("p",[s._v("OnStartupSec：当 systemd 第一次启动后多久才执行")])]),s._v(" "),a("li",[a("p",[s._v("OnUnitActiveSec：这个 timer 配置文件所管理的那个 unit 服务在最后一次启动后，相隔多久后再执行一次")])]),s._v(" "),a("li",[a("p",[s._v("OnUnitInactiveSec：这个 timer 配置文件所管理的那个 unit 服务在最后一次停止后，隔多久再执行一次")])]),s._v(" "),a("li",[a("p",[s._v("OnCalendar：使用实际时间（非循环时间）的方式来启动服务。时间格式后续讲解")])]),s._v(" "),a("li",[a("p",[s._v("Unit：")]),s._v(" "),a("p",[s._v("一般来说不太需要设置，当你的 sname.service 与 sname.timer 中的 sname 不一致时，这里指向的 service unit")])]),s._v(" "),a("li",[a("p",[s._v("Persistent")]),s._v(" "),a("p",[s._v("当使用 OnCalendar 的设置时，指定该功能要不要持续进行。通常设置为 yes，比较能满足类似 anacron 的功能")])])]),s._v(" "),a("h2",{attrs:{id:"使用-oncalendar-的时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-oncalendar-的时间"}},[s._v("#")]),s._v(" 使用 OnCalendar 的时间")]),s._v(" "),a("p",[s._v("想要从 crontab 转成 timer 的功能，对于时间格式需要了解，基本上的格式如下")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("语法：英文周名 YYYY-MM-DD HH:MM:SS\n范例：Thu\t  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-03-20 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":00:00\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("也可以使用时间间隔时间来处理，常用的时间间隔单位有：")]),s._v(" "),a("ul",[a("li",[s._v("us 或 usec：微秒")]),s._v(" "),a("li",[s._v("ms 或 msec：毫秒")]),s._v(" "),a("li",[s._v("s、sec、second、seconds")]),s._v(" "),a("li",[s._v("m、min、minute、minutes")]),s._v(" "),a("li",[s._v("h、hr、hour、hours")]),s._v(" "),a("li",[s._v("d、day、days")]),s._v(" "),a("li",[s._v("w、week、weeks")]),s._v(" "),a("li",[s._v("month、months")]),s._v(" "),a("li",[s._v("y、year、years")])]),s._v(" "),a("p",[s._v("常见的范例有")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("隔 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" 小时：\t\t\t\t3h 或 3hr 或 3hours\n隔 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(" 分钟过 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 秒：\t   10s 300m\t\n隔 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" 天又 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" 分钟：\t   100m 5day\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通常英文的写法：小单位写在前面，大单位写后面、先秒、分、小时、天等")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("此外，还可以使用英文常用的口语化日期代表，例如 today、tomorrow 等，假设今天是 2015-08-13 13:50:00 那么")]),s._v(" "),a("ul",[a("li",[s._v("now：Thu 2015-08-13 13:50:00")]),s._v(" "),a("li",[s._v("today：Thu 2015-08-13 00:00:00")]),s._v(" "),a("li",[s._v("tomorrow：Thu 2015-08-14 00:00:00")]),s._v(" "),a("li",[s._v("hourly："),a("code",[s._v("*-*-* *:00:00")])]),s._v(" "),a("li",[s._v("daily："),a("code",[s._v("*-*-* 00:00:00")])]),s._v(" "),a("li",[s._v("weekly："),a("code",[s._v("Mon *-*-* 00:00:00")])]),s._v(" "),a("li",[s._v("monthly："),a("code",[s._v("*-*-01 00:00:00")])]),s._v(" "),a("li",[s._v("+3h10m：Thu 2015-08-13 17:00:00")]),s._v(" "),a("li",[s._v("2015-08-16：Sun 2015-08-16 00:00:00")])]),s._v(" "),a("h2",{attrs:{id:"一个循环时间运行的案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个循环时间运行的案例"}},[s._v("#")]),s._v(" 一个循环时间运行的案例")]),s._v(" "),a("p",[s._v("需求如下：")]),s._v(" "),a("ul",[a("li",[s._v("开机后 2 小时开始执行一次  backup.service")]),s._v(" "),a("li",[s._v("自从第一次执行后，未来每两天执行一次 backup.service")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/systemd/system/backup.timer")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("backup my server timer\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OnBootSec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2hrs\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OnUnitActiveSec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2days\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl daemon-reload ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl enable backup.timer")]),s._v("\nCreated symlink from /etc/systemd/system/multi-user.target.wants/backup.timer to /etc/systemd/system/backup.timer.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart backup.timer    ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl list-unit-files | grep backup")]),s._v("\nbackup.service                                disabled\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只需要 timer 启动就 ok")]),s._v("\nbackup.timer                                  enabled\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl show timers.target ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ConditionTimestamp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Tue "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-03-17 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":49:38 CST\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# timer 这个 unit 启动的时间")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl show backup.service | grep ExecMainStartTimestamp")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecMainStartTimestamp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Fri "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-03-20 09:38:19 CST\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# backup.service 上一次执行的时间")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl show backup.timer | grep NextElapseUSecMonotonic ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NextElapseUSecMonotonic")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("4d 22h 48min "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(".756775s\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下一次执行距离 timers.target 的时间")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[s._v("关于这个 NextElapseUSecMonotonic 值得说明，上次执行 backup.service 的时间在 2020-03-20 09:38:19，由于 2 天执行一次，下一次执行时间应该是 2020-03-22 09:38:19 才对，但是由于 timer 是由 timers.target 这个 unit 所管理的，而这个 timers.target 启动时间是在 2020-03-17 10:49:38，注意的是，这个 NextElapseUSecMonotonic  记录的下次运行的时间，其实是与 timers.target 所记录的时间差，因此是 "),a("code",[s._v("2020-03-22 09:38:19 -")]),s._v("  2020-03-17 10:49:38` 结果就是相差 4d 22h 48min;")]),s._v(" "),a("p",[s._v("计算公式：NextElapseUSecMonotonic  = 实际下一次运行的时间 - timers.target 的启动时间")]),s._v(" "),a("h2",{attrs:{id:"一个固定日期运行的案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个固定日期运行的案例"}},[s._v("#")]),s._v(" 一个固定日期运行的案例")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/systemd/system/backup2.timer")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("backup my server timer2\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OnCalendar")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Sun *-*-* 02:00:00\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Persistent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Unit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("backup.service\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的 timer 名称与原来的 service 不一致，这里指定下")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl daemon-reload")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl enable backup2.timer")]),s._v("\nCreated symlink from /etc/systemd/system/multi-user.target.wants/backup2.timer to /etc/systemd/system/backup2.timer.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart backup2.timer ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl list-unit-files | grep backup")]),s._v("\nbackup.service                                disabled\nbackup.timer                                  enabled \nbackup2.timer                                 enabled \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl show timers.target | grep ConditionTimestamp")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ConditionTimestamp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Tue "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-03-17 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":49:38 CST\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ConditionTimestampMonotonic")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15862087")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  systemctl show backup.service | grep ExecMainStartTimestamp")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecMainStartTimestamp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Fri "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-03-20 09:38:19 CST\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecMainStartTimestampMonotonic")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("254936756737")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl show backup2.timer | grep NextElapseUSecRealtime")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NextElapseUSecRealtime")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("50y 2month 2w 5d 9h\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 由于只有一次运行，所以没有 NextElapseUSecMonotonic 值了。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的时间是 Unix 标准时间，也就是是 1970-01-01 00:00:00 去比较的")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里是 50 年 2个月 2周 5天 9小时才会执行，这个是对比的日历时间（1970-01-01 00:00:00）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 时间的基准值不一样。一定要注意")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);