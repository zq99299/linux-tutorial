(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{585:function(s,n,t){"use strict";t.r(n);var a=t(16),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"其他-vim-使用注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他-vim-使用注意事项"}},[s._v("#")]),s._v(" 其他 vim 使用注意事项")]),s._v(" "),t("p",[s._v("vim 功能很强大，但是上手不是那么容易，下面分享一些需要注意地方")]),s._v(" "),t("h2",{attrs:{id:"中文编码的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#中文编码的问题"}},[s._v("#")]),s._v(" 中文编码的问题")]),s._v(" "),t("p",[s._v("在 vim 里面无法显示中文，那么你需要考虑：")]),s._v(" "),t("ol",[t("li",[s._v("Linux 系统默认支持的语系数据，与 /etc/locale.conf 有关")]),s._v(" "),t("li",[s._v("终端界面（bash）的语系；与 LANG、LC_ALL 几个参数有关")]),s._v(" "),t("li",[s._v("文件原本的编码")]),s._v(" "),t("li",[s._v("开机终端机的软件，例如在 GNOME 下的窗口")])]),s._v(" "),t("p",[s._v("上面最重要的是第 3 和 4 点，只要这两点编码一致，就能不乱码；")]),s._v(" "),t("p",[s._v("可以使用如下的方式来暂时修改 tty 的语系（前面都讲过的）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.UTF-8\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LC_ALL")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.UTF-8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"dos-与-linux-的断行字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dos-与-linux-的断行字符"}},[s._v("#")]),s._v(" DOS 与 Linux 的断行字符")]),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/tutorial-basis/06/03.html"}},[s._v("cat 命令")]),s._v(" 中讲解过 DOS（windows 系统）建立的文件的特殊格式，发现 DOS 为 "),t("code",[s._v("^M$")]),s._v("，而 linux 是 "),t("code",[s._v("$")]),s._v("，windows 是 CR（^M） 与 LF（$） 两个符号组成的，Linux 是 LF ；对于 Linux 的影响很大")],1),s._v(" "),t("p",[s._v("在 Linux 指令开始执行的时候，判断依据是 Enter 按键（也就是换行符，回车一下就会出现换行符），由于两个系统的换行符不一致，会导致 shell script 程序文件无法执行")]),s._v(" "),t("p",[s._v("可以使用 dos2unix 指令来一键转换，但是目前为止，虚拟机还没有网络，无法安装，笔者这里只记录用法")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("dos2unix "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-kn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("newfile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nunix2dos "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-kn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("newfile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n-k：保留该文件原本的 mtime 时间格式（不更新文件上次内容经过修订的时间）\n-n：保留原本的旧文件，将转换后的内容输出到新文件，如：dos2unix -n old new\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("练习")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 /etc/man_db_conf 重新复制到 /tmp/vitest 下，并将其修改为 dos 断行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /tmp/vitest\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -a /etc/man_db_conf "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\nll man_db.conf\nunix2dos -k man_db.conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将上述的 man_db.conf 转成 linux 换行符，并保留旧文件，新文件防御 man_db.conf.linux")]),s._v("\ndos2unix -k -n man_db.conf man_db.conf.linux\nll man_db.conf*\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" man_db.conf*\nman_db.conf:\tASCII text,with CRLF line terminators   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 说明了是 CRLF 换行")]),s._v("\nman_db.conf.linux: ASCII text\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"语系编码转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语系编码转换"}},[s._v("#")]),s._v(" 语系编码转换")]),s._v(" "),t("p",[s._v("文件编码转换，可以使用 iconv 指令来做，比如下面这一段文字内容（没有网络下载不了，直接粘贴复制保存把）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("每個系統管理員都應該至少要學會一種文字介面的文書處理器，以方便系統日常的管理行為。\n在 Linux 上頭的文書處理軟體非常的多，不過，鳥哥還是建議使用 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 這個正規的文書處理器。\n這是因為 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 幾乎在任何一個 Unix Like 的機器都存在，學會他，輕鬆很多啊！\n而且後來的計畫也有推出 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 這個 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 的進階版本，可以用的額外功能更多了！\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 是未來我們進行 shell script 程式的編寫與伺服器設定的重要工具喔！\n而且是非常非常重要的工具，一定要學會才行啊！ ^_^\n\n無論如何，要管理好 Linux 系統時，純文字的手工設定仍是需要的！那麼在 Linux 底下有哪些文書編輯器呢？\n可多了～例如 vi, emacs, xemacs, joe, e3, xedit, kedit, pico "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" 多的很～\n各家處理器各有其優缺點，您當然可以選擇任何一個您覺得適用的文書處理器來使用。不過，鳥哥還是比較建議使用 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" \n啦！這是因為 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 是 Unix Like 的機器上面預設都有安裝的軟體，也就是說，您一定可以接觸到這個軟體就是了。\n另外，在較新的 distributions 上，您也可以使用較新較先進的 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 這個文書處理器！\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 可以看做是 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 的進階軟體，他可以具有顏色顯示，很方便程式開發人員在進行程式的撰寫呢！\n\n簡單的來說， "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 是老式的文書處理器，不過功能已經很齊全了，但是還是有可以進步的地方。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 則可以說是程式開發者的一項很好用的工具，就連 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 的官方網站 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("http://www.vim.org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n自己也說 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 是一個『程式開發工具』而不是文書處理軟體～^_^。\n因為 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 裡面加入了很多額外的功能，例如支援正規表示法的搜尋架構、多檔案編輯、區塊複製等等。\n這對於我們在 Linux 上面進行一些設定檔的修訂工作時，是很棒的一項功能呢！\n\n底下鳥哥會先就簡單的 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" 做個介紹，然後再跟大家報告一下 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 的額外功能與用法呢！\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /tmp/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vi big5.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把上面的内容保存到该文件中，然后使用这个文件来练习")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("iconv")]),s._v(" --list\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("iconv")]),s._v(" -f 原本编码 -t 新编码 filename "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-o newfile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n--list：列出 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("iconv")]),s._v(" 支持的语系数据\n-f：from 来源，原本的编码格式\n-t：to，即要转换的编码格式\n-o file：如果要保留原本的文件，使用 -o 新文件名，可以建立新编码文件\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("实践练习")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看原本文件编码，这里由于刚刚终端机是 utf-8 的，保存后就是 utf-8 了")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file big5.txt ")]),s._v("\nbig5.txt: UTF-8 Unicode text\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 那么将 UTF8 转成 big5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# iconv -f utf8 -t big5 big5.txt -o big5.txt.big5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file big5.*")]),s._v("\nbig5.txt:      UTF-8 Unicode text\nbig5.txt.big5: ISO-8859 text\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不过笔者测试，由 utf8 转成 big5 会乱码，但是还可以转回来")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面的指令可以将上面繁体中文，转为简体中文，并且还是 utf8 格式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看指令是吧 utf8 转成 big5，再转成 gb2312，再转成 utf8")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# iconv -f utf8 -t big5 big5.txt | \\")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("iconv")]),s._v(" -f big5 -t gb2312 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("iconv")]),s._v(" -f gb2312 -t utf8 -o vi.gb.utf8\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);